<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" width="1000" height="1000">
  <!--
    CAST IRON COVE — PRODUCTION LEVEL MAP
    Scale: 1 SVG unit = 0.25m → 1000 units = 250m
    Origin: SVG (500, 500) = Godot (0, 0, 0)
    Coordinate conversion:
      Godot X = (svg_x - 500) * 0.25
      Godot Z = (svg_y - 500) * 0.25
      (Y is elevation, handled by contour data)
    North = SVG top (negative Z in Godot)
  -->

  <defs>
    <!-- Water patterns -->
    <pattern id="water-bay" width="24" height="24" patternUnits="userSpaceOnUse">
      <rect width="24" height="24" fill="#2e6e8a"/>
      <path d="M0 12 Q6 9,12 12 Q18 15,24 12" stroke="#3a7e9a" stroke-width="0.7" fill="none"/>
    </pattern>
    <pattern id="water-ocean" width="28" height="28" patternUnits="userSpaceOnUse">
      <rect width="28" height="28" fill="#1e5a76"/>
      <path d="M0 14 Q7 10,14 14 Q21 18,28 14" stroke="#2a6a86" stroke-width="0.8" fill="none"/>
      <path d="M0 7 Q7 3,14 7 Q21 11,28 7" stroke="#2a6a86" stroke-width="0.5" fill="none" opacity="0.5"/>
    </pattern>
    <pattern id="water-shallow" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect width="20" height="20" fill="#3a8a9e"/>
      <path d="M0 10 Q5 7,10 10 Q15 13,20 10" stroke="#4a9aae" stroke-width="0.5" fill="none"/>
    </pattern>
    <pattern id="water-deep" width="28" height="28" patternUnits="userSpaceOnUse">
      <rect width="28" height="28" fill="#1a4a66"/>
      <path d="M0 14 Q7 10,14 14 Q21 18,28 14" stroke="#2a5a76" stroke-width="0.9" fill="none"/>
      <path d="M0 7 Q7 3,14 7 Q21 11,28 7" stroke="#2a5a76" stroke-width="0.6" fill="none" opacity="0.5"/>
    </pattern>
    <pattern id="tidal-flat" width="12" height="12" patternUnits="userSpaceOnUse">
      <rect width="12" height="12" fill="#7a9a88"/>
      <circle cx="3" cy="3" r="0.8" fill="#6a8a78"/>
      <circle cx="9" cy="9" r="0.8" fill="#6a8a78"/>
    </pattern>
    <pattern id="redwood-dense" width="10" height="10" patternUnits="userSpaceOnUse">
      <rect width="10" height="10" fill="#2a5a30"/>
      <circle cx="5" cy="5" r="3" fill="#1e4e24" opacity="0.5"/>
    </pattern>
    <pattern id="coastal-scrub" width="8" height="8" patternUnits="userSpaceOnUse">
      <rect width="8" height="8" fill="#5a8a52"/>
      <circle cx="2" cy="6" r="1.2" fill="#4a7a42" opacity="0.4"/>
      <circle cx="6" cy="2" r="1" fill="#4a7a42" opacity="0.3"/>
    </pattern>
    <pattern id="wildflower" width="10" height="10" patternUnits="userSpaceOnUse">
      <rect width="10" height="10" fill="#6aaa5a"/>
      <circle cx="2" cy="3" r="1" fill="#e888aa" opacity="0.5"/>
      <circle cx="7" cy="7" r="0.8" fill="#e8d858" opacity="0.5"/>
      <circle cx="5" cy="1" r="0.7" fill="#a888e8" opacity="0.4"/>
    </pattern>
    <pattern id="farm-crops" width="8" height="8" patternUnits="userSpaceOnUse">
      <rect width="8" height="8" fill="#8ab85a"/>
      <line x1="0" y1="2" x2="8" y2="2" stroke="#7aa84a" stroke-width="0.5"/>
      <line x1="0" y1="5" x2="8" y2="5" stroke="#7aa84a" stroke-width="0.5"/>
    </pattern>
    <!-- Grid pattern for coordinate overlay -->
    <pattern id="grid-major" width="100" height="100" patternUnits="userSpaceOnUse">
      <path d="M100 0 L0 0 0 100" fill="none" stroke="#000" stroke-width="0.3" opacity="0.12"/>
    </pattern>
    <pattern id="grid-minor" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M20 0 L0 0 0 20" fill="none" stroke="#000" stroke-width="0.15" opacity="0.06"/>
    </pattern>
    <!-- Fishing spot icon -->
    <symbol id="fish-icon" viewBox="0 0 16 10">
      <path d="M2 5 Q5 1,10 3 L14 1 L14 9 L10 7 Q5 9,2 5Z" fill="#3a8aaa" stroke="#2a6a8a" stroke-width="0.8"/>
      <circle cx="10" cy="4.5" r="1" fill="#fff"/>
    </symbol>
    <!-- Trainer icon -->
    <symbol id="trainer-icon" viewBox="0 0 12 14">
      <circle cx="6" cy="4" r="3.5" fill="currentColor" stroke="#333" stroke-width="0.6"/>
      <path d="M2 14 Q2 9,6 8 Q10 9,10 14Z" fill="currentColor" stroke="#333" stroke-width="0.6"/>
    </symbol>
    <!-- Mountain silhouette filter -->
    <filter id="mountain-fog">
      <feGaussianBlur stdDeviation="2"/>
    </filter>
    <!-- Boundary markers -->
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
      <path d="M0 0 L10 5 L0 10 Z" fill="#555"/>
    </marker>
  </defs>

  <!-- ============ LAYER 0: GRID OVERLAY ============ -->
  <g id="grid" opacity="1">
    <rect width="1000" height="1000" fill="url(#grid-minor)"/>
    <rect width="1000" height="1000" fill="url(#grid-major)"/>
    <!-- Axis labels (Godot meters, every 25m = 100 SVG units) -->
    <text x="100" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">-100m</text>
    <text x="200" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">-75m</text>
    <text x="300" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">-50m</text>
    <text x="400" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">-25m</text>
    <text x="500" y="12" font-family="monospace" font-size="8" fill="#c44" text-anchor="middle" opacity="0.7" font-weight="bold">X=0</text>
    <text x="600" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">25m</text>
    <text x="700" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">50m</text>
    <text x="800" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">75m</text>
    <text x="900" y="12" font-family="monospace" font-size="7" fill="#555" text-anchor="middle" opacity="0.5">100m</text>
    <!-- Z axis labels (left side) -->
    <text x="4" y="102" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">-100m</text>
    <text x="4" y="202" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">-75m</text>
    <text x="4" y="302" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">-50m</text>
    <text x="4" y="402" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">-25m</text>
    <text x="4" y="502" font-family="monospace" font-size="8" fill="#c44" text-anchor="start" opacity="0.7" font-weight="bold">Z=0</text>
    <text x="4" y="602" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">25m</text>
    <text x="4" y="702" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">50m</text>
    <text x="4" y="802" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">75m</text>
    <text x="4" y="902" font-family="monospace" font-size="7" fill="#555" text-anchor="start" opacity="0.5">100m</text>
    <!-- Origin crosshair -->
    <line x1="490" y1="500" x2="510" y2="500" stroke="#c44" stroke-width="1.5" opacity="0.6"/>
    <line x1="500" y1="490" x2="500" y2="510" stroke="#c44" stroke-width="1.5" opacity="0.6"/>
    <circle cx="500" cy="500" r="3" fill="none" stroke="#c44" stroke-width="1" opacity="0.6"/>
    <text x="512" y="497" font-family="monospace" font-size="7" fill="#c44" opacity="0.7">(0,0,0)</text>
  </g>

  <!-- ============ LAYER 1: DISTANT MOUNTAINS (non-playable backdrop) ============ -->
  <g id="distant-mountains" opacity="0.35">
    <!-- Coast Range silhouette — east/SE edge, visual backdrop only -->
    <!-- Peak heights annotated for skybox/mesh reference -->
    <path d="M600,0 L620,0 640,10 660,0 700,0 720,15 740,5 760,0 780,10 800,0 820,5 840,0 860,10 880,5 900,0 920,8 940,3 960,0 980,5 1000,0
             1000,80 980,65 960,55 940,50 920,60 900,70 880,55 860,50 840,60 820,50 800,55 780,45 760,50 740,55 720,40 700,50 680,55 660,45 640,50 620,40 600,50Z"
          fill="#4a5a6a" filter="url(#mountain-fog)"/>
    <!-- Second range, further back -->
    <path d="M650,0 L680,0 700,8 730,0 760,0 790,12 820,0 850,5 880,0 920,0 950,10 1000,0
             1000,45 960,30 930,25 900,30 870,22 840,28 810,20 780,25 750,18 720,22 690,15 660,20 640,18Z"
          fill="#3a4a5a" filter="url(#mountain-fog)" opacity="0.7"/>
    <!-- SE range along bottom-right -->
    <path d="M1000,200 1000,850 980,830 950,820 930,830 910,810 890,820 870,800 860,810 840,790 820,810 800,830 780,820 760,830 740,810 730,820 720,830 710,810 700,840
             700,855 720,850 750,830 780,845 800,845 820,830 840,820 860,830 880,840 900,845 920,840 940,850 960,840 980,850 1000,860Z"
          fill="#3a5a3a" filter="url(#mountain-fog)"/>
    <!-- Mountain annotations -->
    <text x="780" y="30" font-family="Arial" font-size="7" fill="#6a7a8a" text-anchor="middle" font-style="italic">Coast Range ~800m (fog distance: 2km)</text>
    <text x="900" y="18" font-family="Arial" font-size="6" fill="#5a6a7a" text-anchor="middle" font-style="italic">Trinity Alps (far distance)</text>
  </g>

  <!-- ============ LAYER 2: TERRAIN ============ -->
  <g id="terrain">
    <!-- Open ocean (H=0m) - northwest -->
    <polygon points="0,0 460,0 440,60 400,100 360,80 310,110 270,90 220,120 180,100 140,130 100,115 60,140 30,125 0,150" fill="url(#water-ocean)"/>
    <!-- Open ocean west coast -->
    <polygon points="0,150 30,125 60,140 100,115 140,130 180,100 220,120 200,170 160,200 120,230 80,260 40,280 0,300" fill="url(#water-ocean)"/>

    <!-- Humboldt-style bay - protected harbor (H=0m) -->
    <path d="M220,120 270,90 310,110 360,80 400,100 440,60 460,0 600,0 600,50 580,80 560,120 550,160 555,200 565,240 560,280 540,310 510,340 480,360 450,370 420,375 390,370 360,360 340,345 320,330 300,320 280,315 260,320 240,330 220,345 200,360 180,345 160,320 145,290 140,260 150,230 160,200 200,170" fill="url(#water-bay)"/>

    <!-- Bay depth zones -->
    <!-- Deep channel (center bay, >3m depth) -->
    <path d="M350,150 400,130 440,120 470,140 480,180 475,230 460,280 440,310 420,330 400,340 380,335 360,310 350,280 345,240 340,200 345,160Z" fill="url(#water-deep)" opacity="0.5"/>
    <!-- Shallow zone (near shores, <1m depth) -->
    <path d="M220,140 250,130 280,140 300,160 310,180 300,200 280,220 260,240 250,260 240,280 250,300 260,310 250,318 240,325 230,335 220,340 210,350 200,355 190,340 175,320 165,300 155,275 150,250 155,235 165,215 180,190 200,170Z" fill="url(#water-shallow)" opacity="0.3"/>

    <!-- Tidal mudflats - inner bay shallows (H=0m) -->
    <path d="M300,320 320,310 340,305 360,310 380,320 400,330 420,340 440,345 420,355 390,360 360,350 340,340 320,330 300,325Z" fill="url(#tidal-flat)" opacity="0.8"/>
    <path d="M200,300 220,290 250,295 270,305 260,315 240,320 220,330 200,340 185,325 180,310 190,300Z" fill="url(#tidal-flat)" opacity="0.7"/>

    <!-- Sand spit / breakwater peninsula (H=1m) - Samoa-style -->
    <polygon points="460,0 480,0 500,30 510,70 515,110 510,150 500,190 495,230 500,270 510,300 520,330 510,340 500,325 490,290 485,250 480,210 475,170 470,130 465,90 455,50 445,20 440,0" fill="#c8b890" stroke="#a89870" stroke-width="1"/>

    <!-- Rocky headland - northwest (H=3m, impassable cliff edges) -->
    <polygon points="0,300 40,280 80,260 120,230 150,230 140,260 145,290 130,310 100,330 60,340 30,345 0,350" fill="#5a7a52" stroke="#4a6a42" stroke-width="1"/>
    <!-- Cliff face on headland -->
    <polygon points="0,300 40,280 80,260 120,230 115,240 75,268 35,290 0,310" fill="#706050" opacity="0.6"/>

    <!-- Beach cove - small pocket beach (H=1m) -->
    <polygon points="0,350 30,345 60,340 100,330 120,340 140,355 140,370 120,380 80,385 40,380 0,375" fill="#d4c5a0"/>

    <!-- Wharf Walk district - waterfront (H=2m) -->
    <polygon points="140,355 160,320 180,345 200,360 220,345 240,330 260,320 280,315 300,320 300,340 280,370 260,400 240,420 220,435 200,440 180,430 160,415 140,395 135,375 140,370" fill="#6a9a6a"/>

    <!-- Dockyard / fishing pier area (H=2m) -->
    <polygon points="300,340 340,345 360,360 390,370 420,375 450,370 460,380 450,400 420,410 390,415 360,410 330,400 310,385 300,370" fill="#5a8a5a"/>

    <!-- Main town ground - Town Square + Market Row (H=4m) -->
    <path d="M140,395 160,415 180,430 200,440 220,435 240,420 260,400 280,370 300,370 310,385 330,400 360,410 390,415 420,410 450,400 460,420 470,460 480,500 490,540 500,580 500,620 490,660 470,690 440,710 400,720 360,725 320,720 280,710 240,700 200,690 170,670 150,640 140,600 135,560 130,520 130,480 132,440 135,420Z" fill="#5a9a5a"/>

    <!-- Harbor Heights - upper town on hillside (H=7m) -->
    <path d="M500,580 530,560 570,550 610,555 650,570 680,590 700,620 710,660 700,700 680,730 650,750 610,760 570,755 530,740 500,720 490,690 485,660 490,630Z" fill="#3a7a3a"/>

    <!-- Redwood forest - dense canopy (H=8m) -->
    <path d="M570,550 610,530 660,520 720,530 780,550 830,580 870,620 890,670 890,720 870,770 830,810 780,840 720,850 660,840 610,810 580,770 560,730 555,690 560,650 570,610 575,580Z" fill="url(#redwood-dense)"/>
    <!-- More forest stretching south -->
    <path d="M200,690 170,720 160,760 165,810 180,850 210,880 250,900 300,910 350,915 400,910 450,900 490,880 520,850 540,810 550,770 555,730 530,740 500,720 490,690 470,690 440,710 400,720 360,725 320,720 280,710 240,700Z" fill="url(#redwood-dense)"/>

    <!-- Southern hills / Frozen Pantry approach (H=5m) -->
    <path d="M0,750 0,1000 1000,1000 1000,850 950,830 900,840 850,820 800,835 750,820 700,840 680,830 660,840 610,810 580,770 560,730 555,690 560,650 570,610 610,560 660,520 720,530 780,550 830,580 870,620 890,670 890,720 870,770 830,810 800,835 780,840 730,850 700,855 660,845 620,820 590,800 550,810 520,850 490,880 450,900 400,910 350,915 300,910 250,900 210,880 180,850 165,810 160,760 155,740 130,750 100,760 60,770 0,780" fill="#3d7d3d"/>

    <!-- Farm zone - cleared bottomland (H=3m) -->
    <polygon points="420,500 470,480 500,500 510,540 500,580 490,600 460,610 430,600 410,570 400,540 405,510" fill="#8ab85a" stroke="#6a9a3a" stroke-width="1"/>

    <!-- Rocky outcrop east (H=6m, impassable) -->
    <polygon points="600,0 700,0 750,30 780,80 790,140 780,200 750,250 710,280 670,290 640,280 620,260 610,230 600,190 590,150 585,100 590,50" fill="#6a6858"/>

    <!-- Cliff band between ocean and headland -->
    <polygon points="600,50 620,60 640,80 650,110 655,150 650,190 640,230 620,260 610,240 615,200 620,160 618,120 610,80 600,55" fill="#807060" opacity="0.5"/>

    <!-- Small island in bay (H=2m) -->
    <polygon points="380,250 400,240 420,250 425,270 410,285 390,280 375,265" fill="#5a8a5a" stroke="#4a7a4a" stroke-width="1"/>
  </g>

  <!-- ============ LAYER 3: VEGETATION DENSITY ZONES ============ -->
  <g id="vegetation-zones" opacity="0.3">
    <!-- Coastal scrub on headland -->
    <polygon points="0,310 30,330 60,335 100,325 120,335 130,310 135,290 120,270 80,265 40,282 0,302" fill="url(#coastal-scrub)"/>

    <!-- Town grass / lawn areas -->
    <ellipse cx="350" cy="540" rx="60" ry="40" fill="#7aba6a" opacity="0.3"/>
    <ellipse cx="280" cy="480" rx="40" ry="30" fill="#7aba6a" opacity="0.3"/>

    <!-- Wildflower meadow near overlook -->
    <ellipse cx="660" cy="700" rx="30" ry="20" fill="url(#wildflower)"/>

    <!-- Farm crop rows -->
    <rect x="420" y="540" width="55" height="50" fill="url(#farm-crops)" rx="3" opacity="0.5"/>

    <!-- Redwood understory ferns (denser areas) -->
    <circle cx="720" cy="700" r="30" fill="#1a4a20" opacity="0.2"/>
    <circle cx="780" cy="660" r="25" fill="#1a4a20" opacity="0.2"/>
    <circle cx="660" cy="620" r="20" fill="#1a4a20" opacity="0.15"/>
  </g>

  <!-- ============ LAYER 4: WATER DETAIL ============ -->
  <g id="water-detail">
    <!-- Pier pilings (Haddock's Dock) -->
    <circle cx="310" cy="365" r="2" fill="#5a4030"/>
    <circle cx="310" cy="372" r="2" fill="#5a4030"/>
    <circle cx="310" cy="379" r="2" fill="#5a4030"/>
    <circle cx="316" cy="365" r="2" fill="#5a4030"/>
    <circle cx="316" cy="372" r="2" fill="#5a4030"/>

    <!-- Freshwater creek (farm zone → bay) -->
    <path d="M440,590 430,570 425,550 430,530 440,510 450,490 460,470 465,450 460,430 450,415 440,400 435,385 430,375" stroke="#4a9aba" stroke-width="3" fill="none" stroke-linecap="round" opacity="0.7"/>
    <text x="455" y="460" font-family="Arial" font-size="6" fill="#2a6a8a" opacity="0.6" font-style="italic">Farm Creek</text>

    <!-- Inland pond (Harbor Heights area) -->
    <ellipse cx="560" cy="690" rx="14" ry="10" fill="#3a8aaa" stroke="#2a6a8a" stroke-width="1" opacity="0.8"/>
    <text x="560" y="708" font-family="Arial" font-size="6" fill="#2a6a8a" text-anchor="middle" opacity="0.6">Heights Pond</text>

    <!-- Small farm pond -->
    <ellipse cx="450" cy="545" rx="8" ry="6" fill="#4a9aba" stroke="#3a7a9a" stroke-width="0.8" opacity="0.7"/>
  </g>

  <!-- ============ LAYER 5: PATHS ============ -->
  <g id="paths">
    <!-- Coastal boardwalk - Wharf Walk -->
    <polyline points="140,370 160,380 180,395 200,410 220,420 250,415 280,400 300,380 320,370 340,375 360,385 380,395 400,405 420,408" stroke="#8a7050" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Main street - through town square -->
    <polyline points="280,400 290,430 310,460 340,490 370,510 400,520 430,520 460,510 480,500" stroke="#c4a870" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Market Row street -->
    <polyline points="200,440 220,470 250,500 280,520 310,530 340,535" stroke="#c4a870" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Hillside switchback to Harbor Heights -->
    <polyline points="480,500 500,530 510,560 520,580 530,590 550,600 570,610" stroke="#c4a870" stroke-width="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    <polyline points="570,610 590,630 600,660 590,690 570,710" stroke="#c4a870" stroke-width="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Salty Ladle overgrown path -->
    <polyline points="570,710 590,720 620,730 650,735" stroke="#6a8a50" stroke-width="5" fill="none" stroke-dasharray="8,4" stroke-linecap="round"/>

    <!-- Beach path -->
    <polyline points="40,360 70,365 100,360 130,350" stroke="#d4c090" stroke-width="4" fill="none" stroke-linecap="round"/>

    <!-- Trail north to Fungal Hollow (through forest) -->
    <polyline points="400,520 420,500 430,470 440,440 450,410 455,380" stroke="#4a6a40" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail east to Volcanic Crest -->
    <polyline points="570,610 600,600 640,590 680,595 710,610" stroke="#aa6a40" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail south to Frozen Pantry -->
    <polyline points="400,720 380,760 360,810 350,860 355,900" stroke="#5a8aaa" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail west to Coastal Wreckage -->
    <polyline points="140,370 120,365 100,355 80,350" stroke="#5a8aaa" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Path to farm -->
    <polyline points="430,520 440,530 450,550 455,570 460,590" stroke="#a8a060" stroke-width="5" fill="none" stroke-linecap="round"/>

    <!-- Logging road through redwoods -->
    <polyline points="650,735 680,750 720,770 760,790 800,800" stroke="#5a5040" stroke-width="4" fill="none" stroke-dasharray="10,5" stroke-linecap="round"/>
  </g>

  <!-- ============ LAYER 6: ELEVATION (contours) ============ -->
  <g id="elevation">
    <path d="M0,360 30,355 60,348 100,340 130,348" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M130,400 160,420 190,435 220,440 260,425 290,405 310,390 340,385 370,395 400,410 430,415 455,408" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M130,440 160,450 200,460 240,455 280,440 310,445 340,460 370,470 400,475 430,470 460,460 485,475" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M130,490 165,510 200,520 240,515 280,500 320,500 360,510 400,520 440,515 470,505 495,520" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M140,570 170,590 210,605 260,600 310,590 360,595 400,610 440,605 475,590 500,600" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M150,630 180,650 220,665 270,660 320,650 370,655 420,670 460,665 490,650 510,630 530,610" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M490,660 510,640 535,620 560,615 590,625 620,645 640,670 650,700 640,730 620,750 590,755 560,745 535,725 515,700 500,680" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M570,590 600,575 640,565 690,570 740,590 780,615 810,650 820,695 815,740 795,780 760,810 720,830 680,835 640,825 610,800 590,770 575,730 570,690 572,650 575,615" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M0,800 60,790 120,780 180,800 240,790 300,810 360,800 420,815 480,830 520,855 560,830" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <path d="M0,330 30,325 60,320 100,318 120,325" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
  </g>

  <!-- ============ LAYER 7: RAMPS ============ -->
  <g id="ramps">
    <polygon points="130,348 142,350 142,370 130,368" fill="#b8a870" opacity="0.6" stroke="#8a7050" stroke-width="1.5"/>
    <polygon points="275,400 295,395 300,420 280,425" fill="#a8b870" opacity="0.6" stroke="#7a8a50" stroke-width="1.5"/>
    <polygon points="495,520 515,515 525,550 505,555" fill="#90a858" opacity="0.6" stroke="#6a7a40" stroke-width="1.5"/>
    <polygon points="435,520 450,515 455,540 440,545" fill="#9aaa70" opacity="0.6" stroke="#7a8a50" stroke-width="1.5"/>
    <polygon points="565,600 585,595 590,620 570,625" fill="#508048" opacity="0.6" stroke="#306828" stroke-width="1.5"/>
    <polygon points="400,715 420,710 425,740 405,745" fill="#7a9a8a" opacity="0.6" stroke="#5a7a6a" stroke-width="1.5"/>
  </g>

  <!-- ============ LAYER 8: WORLD BOUNDARIES ============ -->
  <g id="world-boundaries" opacity="0.6">
    <!-- Water boundary (blue) — ocean/bay edges that are impassable -->
    <polyline points="0,0 0,150" stroke="#2a6aaa" stroke-width="4" fill="none"/>
    <polyline points="0,0 460,0" stroke="#2a6aaa" stroke-width="4" fill="none"/>
    <!-- Cliff boundary (brown) — impassable cliffs -->
    <polyline points="0,150 0,300" stroke="#8a6040" stroke-width="4" fill="none"/>
    <polyline points="600,0 600,50 620,60 640,80 650,110 655,150 650,190 640,230 620,260 610,230 600,190 590,150 585,100 590,50 600,0" stroke="#8a6040" stroke-width="3" fill="none"/>
    <!-- Forest boundary (green) — dense forest impassable -->
    <polyline points="0,750 0,1000" stroke="#2a6a2a" stroke-width="4" fill="none"/>
    <polyline points="0,1000 1000,1000" stroke="#2a6a2a" stroke-width="4" fill="none"/>
    <polyline points="1000,1000 1000,850" stroke="#2a6a2a" stroke-width="4" fill="none"/>
    <!-- Mountain boundary (gray) — eastern mountains -->
    <polyline points="1000,850 1000,0" stroke="#6a6a7a" stroke-width="4" fill="none"/>
    <polyline points="460,0 600,0" stroke="#6a6a7a" stroke-width="4" fill="none"/>

    <!-- Boundary type annotations -->
    <text x="10" y="80" font-family="Arial" font-size="7" fill="#2a6aaa" transform="rotate(90,10,80)" opacity="0.8">WATER</text>
    <text x="10" y="230" font-family="Arial" font-size="7" fill="#8a6040" transform="rotate(90,10,230)" opacity="0.8">CLIFF</text>
    <text x="10" y="870" font-family="Arial" font-size="7" fill="#2a6a2a" transform="rotate(90,10,870)" opacity="0.8">FOREST</text>
    <text x="990" y="400" font-family="Arial" font-size="7" fill="#6a6a7a" transform="rotate(-90,990,400)" opacity="0.8">MOUNTAIN</text>
  </g>

  <!-- ============ LAYER 9: ENCOUNTER ZONES ============ -->
  <g id="encounter-zones" opacity="0.25">
    <!-- Fermented Hollow — north bay shore, toxic/umami -->
    <ellipse cx="440" cy="440" rx="35" ry="25" fill="#8a40c8" stroke="#6a20a8" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="440" y="443" font-family="Arial" font-size="7" fill="#6a20a8" text-anchor="middle" opacity="1" font-weight="bold">Fermented Hollow</text>
    <text x="440" y="452" font-family="Arial" font-size="5.5" fill="#6a20a8" text-anchor="middle" opacity="0.8">Toxic, Umami, Earthy</text>

    <!-- Blackened Crest — east hillside near volcanic trail -->
    <ellipse cx="640" cy="590" rx="30" ry="22" fill="#d87030" stroke="#b85010" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="640" y="593" font-family="Arial" font-size="7" fill="#b85010" text-anchor="middle" opacity="1" font-weight="bold">Blackened Crest</text>
    <text x="640" y="602" font-family="Arial" font-size="5.5" fill="#b85010" text-anchor="middle" opacity="0.8">Spicy, Protein, Mineral</text>

    <!-- Battered Bay — along waterfront, bay-side -->
    <ellipse cx="330" cy="350" rx="35" ry="20" fill="#3a8aaa" stroke="#2a6a8a" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="330" y="348" font-family="Arial" font-size="7" fill="#2a6a8a" text-anchor="middle" opacity="1" font-weight="bold">Battered Bay</text>
    <text x="330" y="357" font-family="Arial" font-size="5.5" fill="#2a6a8a" text-anchor="middle" opacity="0.8">Liquid, Sweet, Aromatic</text>

    <!-- Salted Shipwreck — on the sand spit -->
    <ellipse cx="495" cy="200" rx="25" ry="35" fill="#7a6a48" stroke="#5a4a28" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="495" y="198" font-family="Arial" font-size="7" fill="#5a4a28" text-anchor="middle" opacity="1" font-weight="bold">Salted Shipwreck</text>
    <text x="495" y="207" font-family="Arial" font-size="5.5" fill="#5a4a28" text-anchor="middle" opacity="0.8">Spoiled, Toxic, Bitter</text>

    <!-- Herb Garden — near farm/town -->
    <ellipse cx="420" cy="570" rx="25" ry="18" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="420" y="570" font-family="Arial" font-size="7" fill="#2a8a2a" text-anchor="middle" opacity="1" font-weight="bold">Herb Garden</text>
    <text x="420" y="579" font-family="Arial" font-size="5.5" fill="#2a8a2a" text-anchor="middle" opacity="0.8">Herbal, Grain</text>

    <!-- Tidewater Beach — west beach -->
    <ellipse cx="80" cy="365" rx="30" ry="15" fill="#c8b870" stroke="#a89850" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="80" y="363" font-family="Arial" font-size="7" fill="#8a7830" text-anchor="middle" opacity="1" font-weight="bold">Tidewater Beach</text>
    <text x="80" y="372" font-family="Arial" font-size="5.5" fill="#8a7830" text-anchor="middle" opacity="0.8">Liquid, Mineral</text>
  </g>

  <!-- ============ LAYER 10: TRAINER POSITIONS ============ -->
  <g id="trainers">
    <!-- Baker Brioche — near Hubert's Bakery, easy (green) -->
    <circle cx="420" cy="515" r="6" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="1.5"/>
    <text x="420" y="518" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">B</text>
    <text x="432" y="510" font-family="Arial" font-size="6" fill="#2a6a2a">Baker Brioche (Lv3)</text>

    <!-- Sage Herbalist — near farm, easy (green) -->
    <circle cx="460" cy="590" r="6" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="1.5"/>
    <text x="460" y="593" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">S</text>
    <text x="472" y="586" font-family="Arial" font-size="6" fill="#2a6a2a">Sage Herbalist (Lv5)</text>

    <!-- Old Salt — wharf, medium (yellow) -->
    <circle cx="350" cy="395" r="6" fill="#d8b848" stroke="#b89828" stroke-width="1.5"/>
    <text x="350" y="398" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">O</text>
    <text x="362" y="392" font-family="Arial" font-size="6" fill="#8a7820">Old Salt (Lv8)</text>

    <!-- Ember Smith — near Cracked Pot, medium (yellow) -->
    <circle cx="408" cy="478" r="6" fill="#d8b848" stroke="#b89828" stroke-width="1.5"/>
    <text x="408" y="481" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">E</text>
    <text x="420" y="475" font-family="Arial" font-size="6" fill="#8a7820">Ember Smith (Lv10)</text>

    <!-- Professor Umami — Harbor Heights, hard (orange) -->
    <circle cx="580" cy="660" r="6" fill="#d87848" stroke="#b85828" stroke-width="1.5"/>
    <text x="580" y="663" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">U</text>
    <text x="592" y="657" font-family="Arial" font-size="6" fill="#a84828">Prof. Umami (Lv15)</text>

    <!-- Pepper Santos — Spice Emporium, gatekeeper (red star) -->
    <circle cx="338" cy="515" r="7" fill="#d84848" stroke="#b82828" stroke-width="2"/>
    <text x="338" y="518" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">P</text>
    <text x="310" y="507" font-family="Arial" font-size="6" fill="#a82828" font-weight="bold">Pepper Santos (Lv12) ★</text>

    <!-- Mayor Rosemary — Town Hall, quest giver (blue) -->
    <circle cx="370" cy="488" r="6" fill="#4a8ad8" stroke="#2a6ab8" stroke-width="1.5"/>
    <text x="370" y="491" font-family="Arial" font-size="5" fill="#fff" text-anchor="middle" font-weight="bold">R</text>
    <text x="340" y="484" font-family="Arial" font-size="6" fill="#2a6ab8">Mayor Rosemary</text>
  </g>

  <!-- ============ LAYER 11: BUILDING FOOTPRINTS ============ -->
  <g id="buildings">
    <!-- === TOWN SQUARE DISTRICT === -->

    <!-- Town Hall — 10m x 8.75m (40x35 SVG), Victorian, door faces south -->
    <rect x="350" y="488" width="40" height="35" fill="#c89858" stroke="#8a6830" stroke-width="2" rx="2"/>
    <polygon points="350,488 370,472 390,488" fill="#a87838" stroke="#8a6830" stroke-width="1.5"/>
    <!-- Door arrow (south-facing) -->
    <line x1="370" y1="523" x2="370" y2="530" stroke="#8a6830" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="370" y="507" font-family="monospace" font-size="5" fill="#5a3810" text-anchor="middle">10×8.75m</text>

    <!-- Hubert's Bakery — 7m x 5.5m (28x22 SVG), door faces west -->
    <rect x="405" y="505" width="28" height="22" fill="#e8c878" stroke="#aa9050" stroke-width="2" rx="2"/>
    <line x1="405" y1="516" x2="398" y2="516" stroke="#aa9050" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="419" y="519" font-family="monospace" font-size="4.5" fill="#7a5a20" text-anchor="middle">7×5.5</text>

    <!-- Pepper's Spice Emporium — 7m x 5.5m, door faces east -->
    <rect x="325" y="505" width="28" height="22" fill="#d86848" stroke="#aa4830" stroke-width="2" rx="2"/>
    <line x1="353" y1="516" x2="360" y2="516" stroke="#aa4830" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="339" y="519" font-family="monospace" font-size="4.5" fill="#7a2810" text-anchor="middle">7×5.5</text>

    <!-- General Store — 6.25m x 5m, door faces south -->
    <rect x="345" y="465" width="25" height="20" fill="#b8a870" stroke="#8a7850" stroke-width="2" rx="2"/>
    <line x1="357" y1="485" x2="357" y2="492" stroke="#8a7850" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="358" y="478" font-family="monospace" font-size="4.5" fill="#5a4830" text-anchor="middle">6.25×5</text>

    <!-- The Cracked Pot — 6m x 5m, door faces south -->
    <rect x="395" y="468" width="24" height="20" fill="#c8a888" stroke="#9a7868" stroke-width="2" rx="2"/>
    <line x1="407" y1="488" x2="407" y2="495" stroke="#9a7868" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="407" y="481" font-family="monospace" font-size="4.5" fill="#6a4838" text-anchor="middle">6×5</text>

    <!-- Harbor Square Fountain — r=3.5m (14 SVG) -->
    <circle cx="380" cy="530" r="14" fill="#5aaaca" stroke="#3a8aaa" stroke-width="2"/>
    <circle cx="380" cy="530" r="6" fill="#7ac0da" stroke="#3a8aaa" stroke-width="1"/>

    <!-- === MARKET ROW === -->
    <!-- Threads and Needles — 5m x 4m -->
    <rect x="248" y="495" width="20" height="16" fill="#c8a8d8" stroke="#9878a8" stroke-width="1.5" rx="2"/>
    <text x="258" y="506" font-family="monospace" font-size="4" fill="#684878" text-anchor="middle">5×4</text>

    <!-- Book Nook — 4.5m x 3.5m -->
    <rect x="272" y="505" width="18" height="14" fill="#a8c8e8" stroke="#7898b8" stroke-width="1.5" rx="2"/>
    <text x="281" y="515" font-family="monospace" font-size="4" fill="#486888" text-anchor="middle">4.5×3.5</text>

    <!-- Bloom and Grow — 5m x 4m -->
    <rect x="295" y="518" width="20" height="16" fill="#88c888" stroke="#58a858" stroke-width="1.5" rx="2"/>
    <text x="305" y="529" font-family="monospace" font-size="4" fill="#287838" text-anchor="middle">5×4</text>

    <!-- Dr. Honey's Clinic — 5m x 4m -->
    <rect x="225" y="510" width="20" height="16" fill="#e8b8b8" stroke="#c89898" stroke-width="1.5" rx="2"/>
    <text x="235" y="521" font-family="monospace" font-size="4" fill="#986868" text-anchor="middle">5×4</text>

    <!-- === WHARF WALK === -->

    <!-- Tide's End Inn — 8m x 6.5m, door faces east -->
    <rect x="200" y="398" width="32" height="26" fill="#a88868" stroke="#7a5848" stroke-width="2" rx="2"/>
    <polygon points="200,398 216,384 232,398" fill="#907858" stroke="#7a5848" stroke-width="1"/>
    <line x1="232" y1="411" x2="239" y2="411" stroke="#7a5848" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="216" y="415" font-family="monospace" font-size="4.5" fill="#4a2818" text-anchor="middle">8×6.5</text>

    <!-- Haddock's Fishing Dock — pier extending into bay, 1.5m x 7.5m + platform -->
    <rect x="310" y="360" width="6" height="30" fill="#7a6040" stroke="#5a4030" stroke-width="1.5"/>
    <rect x="305" y="355" width="16" height="8" fill="#8a7050" stroke="#5a4030" stroke-width="1.5"/>
    <text x="328" y="368" font-family="monospace" font-size="4" fill="#4a3020">4×2 platform</text>

    <!-- Old Warehouse — 8m x 5.5m, door faces south -->
    <rect x="355" y="388" width="32" height="22" fill="#787068" stroke="#585048" stroke-width="2" rx="1"/>
    <line x1="371" y1="410" x2="371" y2="417" stroke="#585048" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="371" y="402" font-family="monospace" font-size="4.5" fill="#383028" text-anchor="middle">8×5.5</text>

    <!-- Lighthouse — r=2.75m (11 SVG), on headland -->
    <circle cx="65" cy="318" r="11" fill="#e8d868" stroke="#aa9a40" stroke-width="2"/>
    <circle cx="65" cy="318" r="5" fill="#f8f0a0" stroke="#aa9a40" stroke-width="1"/>
    <rect x="62" y="310" width="6" height="18" fill="#d8c858" stroke="#aa9a40" stroke-width="1" rx="1"/>

    <!-- === HARBOR HEIGHTS === -->

    <!-- The Salty Ladle (Restaurant) — irregular ~10m x 8m footprint, door faces west -->
    <polygon points="630,720 660,710 675,730 665,750 635,745" fill="#c86848" stroke="#8a3020" stroke-width="2"/>
    <rect x="638" y="722" width="22" height="16" fill="#d87858" stroke="#8a3020" stroke-width="1"/>
    <line x1="630" y1="733" x2="623" y2="733" stroke="#8a3020" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="650" y="738" font-family="monospace" font-size="4.5" fill="#5a1808" text-anchor="middle">~10×8</text>

    <!-- Cordelia's Cottage — 5.5m x 4.5m, door faces south -->
    <rect x="590" y="700" width="22" height="18" fill="#a8c8a8" stroke="#6a8a6a" stroke-width="2" rx="2"/>
    <polygon points="590,700 601,688 612,700" fill="#8aaa8a" stroke="#6a8a6a" stroke-width="1"/>
    <line x1="601" y1="718" x2="601" y2="725" stroke="#6a8a6a" stroke-width="1.5" marker-end="url(#arrow)"/>
    <text x="601" y="712" font-family="monospace" font-size="4.5" fill="#3a6a3a" text-anchor="middle">5.5×4.5</text>

    <!-- Murphy's Hillside Garden (locked) — 6.5m x 5m -->
    <rect x="555" y="660" width="26" height="20" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="2" rx="2" stroke-dasharray="4,2"/>
    <text x="568" y="673" font-family="monospace" font-size="4.5" fill="#1a6a1a" text-anchor="middle">6.5×5</text>

    <!-- Overlook Park — r=4m (16 SVG), cliff-edge viewpoint -->
    <circle cx="680" cy="680" r="16" fill="#5aba5a" stroke="#3a8a3a" stroke-width="2"/>
    <circle cx="674" cy="674" r="3.5" fill="#4aaa4a"/>
    <circle cx="686" cy="686" r="3.5" fill="#4aaa4a"/>
    <circle cx="680" cy="676" r="3.5" fill="#4aaa4a"/>

    <!-- === FARM ZONE === -->
    <!-- Farm plots — each 4.5m x 3.25m (18x13 SVG) -->
    <rect x="420" y="555" width="18" height="13" fill="#aad070" stroke="#7aa040" stroke-width="1"/>
    <rect x="442" y="555" width="18" height="13" fill="#aad070" stroke="#7aa040" stroke-width="1"/>
    <rect x="420" y="572" width="18" height="13" fill="#c8b870" stroke="#9a8a40" stroke-width="1"/>
    <rect x="442" y="572" width="18" height="13" fill="#c8b870" stroke="#9a8a40" stroke-width="1"/>

    <!-- Bay island hut — 4m x 3m -->
    <rect x="390" y="256" width="16" height="12" fill="#6a8a5a" stroke="#4a6a3a" stroke-width="1" rx="1"/>
  </g>

  <!-- ============ LAYER 12: FISHING SPOTS ============ -->
  <g id="fishing-spots">
    <!-- Ocean fishing spots (3) -->
    <!-- 1. Pier end — Haddock's Dock -->
    <circle cx="313" cy="358" r="20" fill="#3a8aaa" opacity="0.12" stroke="#2a6a8a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="305" y="343" width="16" height="10"/>
    <text x="313" y="340" font-family="Arial" font-size="6" fill="#2a6a8a" text-anchor="middle" font-weight="bold">F1: Pier End</text>

    <!-- 2. Headland rocks — near lighthouse -->
    <circle cx="40" cy="310" r="20" fill="#3a8aaa" opacity="0.12" stroke="#2a6a8a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="32" y="305" width="16" height="10"/>
    <text x="40" y="300" font-family="Arial" font-size="6" fill="#2a6a8a" text-anchor="middle" font-weight="bold">F2: Headland</text>

    <!-- 3. Sand spit — mid-spit -->
    <circle cx="490" cy="250" r="20" fill="#3a8aaa" opacity="0.12" stroke="#2a6a8a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="482" y="245" width="16" height="10"/>
    <text x="490" y="240" font-family="Arial" font-size="6" fill="#2a6a8a" text-anchor="middle" font-weight="bold">F3: Sand Spit</text>

    <!-- River/Bay fishing spots (2) -->
    <!-- 4. Dock area — south bay -->
    <circle cx="400" cy="370" r="20" fill="#4a9aba" opacity="0.12" stroke="#3a7a9a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="392" y="365" width="16" height="10"/>
    <text x="400" y="360" font-family="Arial" font-size="6" fill="#3a7a9a" text-anchor="middle" font-weight="bold">F4: Dock Bay</text>

    <!-- 5. Bay island shore -->
    <circle cx="395" cy="275" r="20" fill="#4a9aba" opacity="0.12" stroke="#3a7a9a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="387" y="270" width="16" height="10"/>
    <text x="395" y="265" font-family="Arial" font-size="6" fill="#3a7a9a" text-anchor="middle" font-weight="bold">F5: Bay Island</text>

    <!-- Pond fishing spots (3) -->
    <!-- 6. Farm creek -->
    <circle cx="440" cy="500" r="20" fill="#5aaaba" opacity="0.12" stroke="#4a8a9a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="432" y="495" width="16" height="10"/>
    <text x="440" y="490" font-family="Arial" font-size="6" fill="#4a8a9a" text-anchor="middle" font-weight="bold">F6: Farm Creek</text>

    <!-- 7. Inland pond (near Harbor Heights) -->
    <circle cx="560" cy="690" r="20" fill="#5aaaba" opacity="0.12" stroke="#4a8a9a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="552" y="685" width="16" height="10"/>
    <text x="560" y="680" font-family="Arial" font-size="6" fill="#4a8a9a" text-anchor="middle" font-weight="bold">F7: Heights Pond</text>

    <!-- 8. Farm pond -->
    <circle cx="450" cy="545" r="20" fill="#5aaaba" opacity="0.12" stroke="#4a8a9a" stroke-width="1" stroke-dasharray="3,2"/>
    <use href="#fish-icon" x="442" y="540" width="16" height="10"/>
    <text x="450" y="535" font-family="Arial" font-size="6" fill="#4a8a9a" text-anchor="middle" font-weight="bold">F8: Farm Pond</text>
  </g>

  <!-- ============ LAYER 13: EXCURSION PORTALS ============ -->
  <g id="portals">
    <!-- The Wilds portal — north bay shore, purple -->
    <ellipse cx="455" cy="378" rx="13" ry="17" fill="#8a40c8" opacity="0.7" stroke="#6a20a8" stroke-width="2"/>
    <ellipse cx="455" cy="378" rx="7" ry="11" fill="#aa60e8" opacity="0.6"/>

    <!-- Coastal Wreckage portal — west headland, teal -->
    <ellipse cx="75" cy="350" rx="13" ry="17" fill="#40a8c8" opacity="0.7" stroke="#2088a8" stroke-width="2"/>
    <ellipse cx="75" cy="350" rx="7" ry="11" fill="#60c8e8" opacity="0.6"/>

    <!-- Fungal Hollow portal — deep in dockyard north, dim purple -->
    <ellipse cx="440" cy="435" rx="11" ry="14" fill="#6a3088" opacity="0.7" stroke="#4a1068" stroke-width="2"/>
    <ellipse cx="440" cy="435" rx="6" ry="8" fill="#8a50a8" opacity="0.6"/>

    <!-- Volcanic Crest portal — east past forest, orange -->
    <ellipse cx="710" cy="615" rx="13" ry="17" fill="#d87030" opacity="0.7" stroke="#b85010" stroke-width="2"/>
    <ellipse cx="710" cy="615" rx="7" ry="11" fill="#f89050" opacity="0.6"/>

    <!-- Frozen Pantry portal — south through forest, icy blue -->
    <ellipse cx="355" cy="900" rx="13" ry="17" fill="#60b8e8" opacity="0.7" stroke="#4098c8" stroke-width="2"/>
    <ellipse cx="355" cy="900" rx="7" ry="11" fill="#80d0f8" opacity="0.6"/>
  </g>

  <!-- ============ LAYER 14: MISC LANDMARKS ============ -->
  <g id="misc-landmarks">
    <!-- Spawn point -->
    <circle cx="370" cy="555" r="6" fill="#f8e848" stroke="#d8c828" stroke-width="2"/>
    <circle cx="370" cy="555" r="2.5" fill="#fff" stroke="#d8c828" stroke-width="1"/>

    <!-- Shipwreck on spit -->
    <polygon points="488,180 510,175 515,185 505,195 490,192" fill="#6a5a48" stroke="#4a3a28" stroke-width="1.5" opacity="0.8"/>
    <line x1="500" y1="175" x2="498" y2="160" stroke="#5a4a38" stroke-width="1.5"/>

    <!-- Driftwood on beach -->
    <line x1="50" y1="365" x2="70" y2="370" stroke="#8a7a58" stroke-width="3" stroke-linecap="round"/>
    <line x1="90" y1="375" x2="105" y2="368" stroke="#8a7a58" stroke-width="2.5" stroke-linecap="round"/>

    <!-- Redwood grove markers (large trees) -->
    <circle cx="660" cy="600" r="8" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="700" cy="650" r="9" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="740" cy="700" r="8" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="780" cy="660" r="10" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="810" cy="720" r="9" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="640" cy="660" r="7" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>

    <!-- Sight lines -->
    <line x1="680" y1="680" x2="380" y2="530" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.35"/>
    <line x1="680" y1="680" x2="65" y2="318" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.35"/>
    <line x1="680" y1="680" x2="500" y2="190" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.25"/>
    <line x1="65" y1="318" x2="310" y2="365" stroke="#e8d040" stroke-width="1" stroke-dasharray="5,4" opacity="0.35"/>
    <line x1="65" y1="318" x2="488" y2="185" stroke="#e8d040" stroke-width="1" stroke-dasharray="5,4" opacity="0.25"/>
    <line x1="650" y1="730" x2="380" y2="530" stroke="#c89848" stroke-width="1" stroke-dasharray="5,4" opacity="0.3"/>
  </g>

  <!-- ============ LAYER 15: ATMOSPHERE ANNOTATIONS ============ -->
  <g id="atmosphere" opacity="0.4">
    <!-- Fog bank indicator (atmospheric) over bay -->
    <ellipse cx="300" cy="200" rx="80" ry="25" fill="#c8d8e8" opacity="0.4"/>
    <ellipse cx="250" cy="180" rx="50" ry="15" fill="#c8d8e8" opacity="0.35"/>
    <text x="300" y="205" font-family="Arial" font-size="7" fill="#8aa0b0" text-anchor="middle" font-style="italic">Marine fog — morning density 0.7, clears by noon</text>

    <!-- Coastal fog zone -->
    <ellipse cx="100" cy="350" rx="60" ry="20" fill="#c8d8e8" opacity="0.2"/>
    <text x="100" y="392" font-family="Arial" font-size="6" fill="#8aa0b0" text-anchor="middle" font-style="italic">Sea spray + fog</text>

    <!-- Light direction indicator (top-right corner) -->
    <g transform="translate(920,95)">
      <circle cx="0" cy="0" r="12" fill="#f8e868" opacity="0.4" stroke="#d8c040" stroke-width="1"/>
      <line x1="0" y1="0" x2="-20" y2="15" stroke="#d8c040" stroke-width="1.5" marker-end="url(#arrow)"/>
      <text x="-22" y="28" font-family="Arial" font-size="6" fill="#a89030" text-anchor="middle">Primary light NW→SE</text>
      <text x="-22" y="36" font-family="Arial" font-size="5" fill="#a89030" text-anchor="middle">Golden hour angle: 15°</text>
    </g>

    <!-- PNW marine layer note -->
    <text x="150" y="145" font-family="Arial" font-size="6" fill="#7a9aaa" text-anchor="middle" font-style="italic" opacity="0.8">PNW marine layer: overcast base 300m, breaks by afternoon</text>
  </g>

  <!-- ============ LAYER 16: LABELS ============ -->
  <g id="labels">
    <!-- Terrain height labels -->
    <text x="350" y="55" font-family="Arial" font-size="12" fill="#b8d0e0" text-anchor="middle" opacity="0.8">H=0m (Pacific Ocean)</text>
    <text x="400" y="200" font-family="Arial" font-size="11" fill="#a0c0d0" text-anchor="middle" opacity="0.7">H=0m (Humboldt-style Bay)</text>
    <text x="490" y="155" font-family="Arial" font-size="9" fill="#8a7a50" text-anchor="middle">H=1m (Sand Spit)</text>
    <text x="80" y="380" font-family="Arial" font-size="9" fill="#6a5a40" text-anchor="middle">H=1m</text>
    <text x="230" y="405" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle" opacity="0.8">H=2m</text>
    <text x="400" y="402" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle" opacity="0.8">H=2m</text>
    <text x="310" y="600" font-family="Arial" font-size="11" fill="#2a5a2a" text-anchor="middle">H=4m</text>
    <text x="600" y="680" font-family="Arial" font-size="11" fill="#1a4a1a" text-anchor="middle">H=7m</text>
    <text x="445" y="595" font-family="Arial" font-size="9" fill="#3a5a1a" text-anchor="middle">H=3m</text>
    <text x="720" y="700" font-family="Arial" font-size="10" fill="#0e3e14" text-anchor="middle">H=8m (Redwoods)</text>
    <text x="50" y="320" font-family="Arial" font-size="9" fill="#3a5a3a" text-anchor="middle">H=3m</text>
    <text x="660" y="200" font-family="Arial" font-size="9" fill="#4a4838" text-anchor="middle">H=6m</text>
    <text x="350" y="870" font-family="Arial" font-size="10" fill="#1a4a1a" text-anchor="middle">H=5m</text>

    <!-- District labels -->
    <text x="250" y="430" font-family="Arial" font-size="13" fill="#fff" text-anchor="middle" font-weight="bold" opacity="0.45" letter-spacing="2">WHARF WALK</text>
    <text x="370" y="558" font-family="Arial" font-size="13" fill="#1a4a1a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="2">TOWN SQUARE</text>
    <text x="260" y="548" font-family="Arial" font-size="11" fill="#1a4a1a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="1">MARKET ROW</text>
    <text x="610" y="740" font-family="Arial" font-size="13" fill="#0a3a0a" text-anchor="middle" font-weight="bold" opacity="0.35" letter-spacing="2">HARBOR HEIGHTS</text>
    <text x="750" y="740" font-family="Arial" font-size="11" fill="#0a3a0a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="1">REDWOOD FOREST</text>

    <!-- Landmark labels -->
    <text x="370" y="484" font-family="Arial" font-size="10" fill="#5a3a10" text-anchor="middle" font-weight="bold">Town Hall</text>
    <text x="380" y="548" font-family="Arial" font-size="8" fill="#2a6a8a" text-anchor="middle">Fountain</text>
    <text x="435" y="502" font-family="Arial" font-size="8" fill="#7a5a20" text-anchor="start">Hubert's Bakery</text>
    <text x="312" y="502" font-family="Arial" font-size="8" fill="#8a2810" text-anchor="end">Pepper's Spice</text>
    <text x="332" y="462" font-family="Arial" font-size="8" fill="#5a4830" text-anchor="end">General Store</text>
    <text x="422" y="465" font-family="Arial" font-size="8" fill="#6a4838" text-anchor="start">Cracked Pot</text>

    <text x="248" y="492" font-family="Arial" font-size="7" fill="#684878" text-anchor="middle">Threads</text>
    <text x="281" y="518" font-family="Arial" font-size="7" fill="#486888" text-anchor="middle">Book Nook</text>
    <text x="305" y="534" font-family="Arial" font-size="7" fill="#287838" text-anchor="middle">Bloom</text>
    <text x="235" y="530" font-family="Arial" font-size="7" fill="#986868" text-anchor="middle">Dr. Honey</text>

    <text x="650" y="707" font-family="Arial" font-size="10" fill="#6a1808" text-anchor="middle" font-weight="bold">The Salty Ladle</text>
    <text x="601" y="695" font-family="Arial" font-size="8" fill="#3a6a3a" text-anchor="middle">Cordelia's Cottage</text>
    <text x="568" y="654" font-family="Arial" font-size="8" fill="#1a6a1a" text-anchor="middle">Murphy's Garden</text>
    <text x="680" y="665" font-family="Arial" font-size="9" fill="#2a6a2a" text-anchor="middle" font-weight="bold">Overlook Park</text>

    <text x="216" y="395" font-family="Arial" font-size="8" fill="#4a2818" text-anchor="middle">Tide's End Inn</text>
    <text x="313" y="352" font-family="Arial" font-size="8" fill="#4a3020" text-anchor="middle">Fishing Dock</text>
    <text x="65" y="305" font-family="Arial" font-size="9" fill="#8a7a30" text-anchor="middle" font-weight="bold">Lighthouse</text>
    <text x="371" y="385" font-family="Arial" font-size="8" fill="#484038" text-anchor="middle">Warehouse</text>

    <text x="440" y="553" font-family="Arial" font-size="9" fill="#5a7a20" text-anchor="middle" font-weight="bold">Farm Zone</text>
    <text x="370" y="570" font-family="Arial" font-size="9" fill="#a89828" text-anchor="middle" font-weight="bold">SPAWN</text>

    <text x="500" y="188" font-family="Arial" font-size="8" fill="#4a3a28" text-anchor="middle">Shipwreck</text>
    <text x="398" y="252" font-family="Arial" font-size="8" fill="#3a5a3a" text-anchor="middle">Bay Island</text>

    <!-- Portal labels -->
    <text x="455" y="398" font-family="Arial" font-size="9" fill="#6a20a8" text-anchor="middle" font-weight="bold">The Wilds</text>
    <text x="75" y="340" font-family="Arial" font-size="8" fill="#2088a8" text-anchor="middle" font-weight="bold">Coastal Wreckage</text>
    <text x="440" y="425" font-family="Arial" font-size="8" fill="#4a1068" text-anchor="middle" font-weight="bold">Fungal Hollow</text>
    <text x="710" y="605" font-family="Arial" font-size="8" fill="#b85010" text-anchor="middle" font-weight="bold">Volcanic Crest</text>
    <text x="355" y="920" font-family="Arial" font-size="8" fill="#3088b8" text-anchor="middle" font-weight="bold">Frozen Pantry</text>

    <!-- Ramp labels -->
    <text x="148" y="348" font-family="Arial" font-size="7" fill="#5a4020" text-anchor="start">1m→2m | L=22m</text>
    <text x="300" y="432" font-family="Arial" font-size="7" fill="#4a5020" text-anchor="start">2m→4m | L=30m</text>
    <text x="525" y="540" font-family="Arial" font-size="7" fill="#3a4a10" text-anchor="start">4m→7m | L=45m</text>
    <text x="410" y="745" font-family="Arial" font-size="7" fill="#3a5a4a" text-anchor="start">7m→5m | L=32m</text>
    <text x="452" y="510" font-family="Arial" font-size="7" fill="#5a6a20" text-anchor="start">4m→3m | L=28m</text>
    <text x="592" y="612" font-family="Arial" font-size="7" fill="#2a5020" text-anchor="start">7m→8m | L=30m</text>
  </g>

  <!-- ============ LAYER 17: TITLE & NAVIGATION ============ -->
  <g id="title-nav">
    <!-- Title -->
    <text x="500" y="988" font-family="Arial" font-size="22" fill="#1a3a1a" text-anchor="middle" font-weight="bold" letter-spacing="2">CAST IRON COVE</text>
    <text x="500" y="975" font-family="Arial" font-size="11" fill="#4a6a4a" text-anchor="middle" font-style="italic">Production Level Map — 1 SVG unit = 0.25m — 250m × 250m playable</text>

    <!-- North arrow -->
    <polygon points="940,40 950,60 940,55 930,60" fill="#333" stroke="#222" stroke-width="1"/>
    <text x="940" y="35" font-family="Arial" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">N</text>

    <!-- Scale bar (bottom-left) -->
    <g transform="translate(30,940)">
      <rect x="0" y="0" width="200" height="3" fill="#333"/>
      <line x1="0" y1="-3" x2="0" y2="6" stroke="#333" stroke-width="1.5"/>
      <line x1="40" y1="-2" x2="40" y2="5" stroke="#333" stroke-width="1"/>
      <line x1="80" y1="-2" x2="80" y2="5" stroke="#333" stroke-width="1"/>
      <line x1="120" y1="-2" x2="120" y2="5" stroke="#333" stroke-width="1"/>
      <line x1="160" y1="-2" x2="160" y2="5" stroke="#333" stroke-width="1"/>
      <line x1="200" y1="-3" x2="200" y2="6" stroke="#333" stroke-width="1.5"/>
      <text x="0" y="14" font-family="monospace" font-size="7" fill="#333" text-anchor="middle">0m</text>
      <text x="40" y="14" font-family="monospace" font-size="7" fill="#555" text-anchor="middle">10m</text>
      <text x="80" y="14" font-family="monospace" font-size="7" fill="#555" text-anchor="middle">20m</text>
      <text x="120" y="14" font-family="monospace" font-size="7" fill="#555" text-anchor="middle">30m</text>
      <text x="160" y="14" font-family="monospace" font-size="7" fill="#555" text-anchor="middle">40m</text>
      <text x="200" y="14" font-family="monospace" font-size="7" fill="#333" text-anchor="middle">50m</text>
      <text x="100" y="24" font-family="monospace" font-size="6" fill="#666" text-anchor="middle">1 SVG unit = 0.25m | 4 units = 1m</text>
    </g>
  </g>

  <!-- ============ LAYER 18: LEGEND ============ -->
  <g id="legend">
    <rect x="760" y="15" width="228" height="530" fill="#f5f0e5" stroke="#8a7a60" stroke-width="1.5" rx="4" opacity="0.93"/>
    <text x="874" y="36" font-family="Arial" font-size="12" fill="#3a3020" text-anchor="middle" font-weight="bold">LEGEND</text>
    <line x1="770" y1="42" x2="978" y2="42" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Terrain -->
    <text x="775" y="55" font-family="Arial" font-size="8" fill="#333" font-weight="bold">TERRAIN</text>
    <rect x="775" y="60" width="14" height="10" fill="#1e5a76" stroke="#0e4a66" stroke-width="0.5"/>
    <text x="794" y="69" font-family="Arial" font-size="7.5" fill="#333">Pacific Ocean (H=0m)</text>
    <rect x="775" y="74" width="14" height="10" fill="#2e6e8a" stroke="#1e5e7a" stroke-width="0.5"/>
    <text x="794" y="83" font-family="Arial" font-size="7.5" fill="#333">Bay / Harbor (H=0m)</text>
    <rect x="775" y="88" width="14" height="10" fill="#3a8a9e"/>
    <text x="794" y="97" font-family="Arial" font-size="7.5" fill="#333">Shallow Water (&lt;1m)</text>
    <rect x="775" y="102" width="14" height="10" fill="#1a4a66"/>
    <text x="794" y="111" font-family="Arial" font-size="7.5" fill="#333">Deep Channel (&gt;3m)</text>
    <rect x="775" y="116" width="14" height="10" fill="#7a9a88" stroke="#5a7a68" stroke-width="0.5"/>
    <text x="794" y="125" font-family="Arial" font-size="7.5" fill="#333">Tidal Mudflats</text>
    <rect x="775" y="130" width="14" height="10" fill="#c8b890" stroke="#a89870" stroke-width="0.5"/>
    <text x="794" y="139" font-family="Arial" font-size="7.5" fill="#333">Sand / Beach (H=1m)</text>
    <rect x="775" y="144" width="14" height="10" fill="#6a9a6a" stroke="#4a7a4a" stroke-width="0.5"/>
    <text x="794" y="153" font-family="Arial" font-size="7.5" fill="#333">Wharf / Dock (H=2m)</text>
    <rect x="775" y="158" width="14" height="10" fill="#8ab85a" stroke="#6a9a3a" stroke-width="0.5"/>
    <text x="794" y="167" font-family="Arial" font-size="7.5" fill="#333">Farm (H=3m)</text>
    <rect x="775" y="172" width="14" height="10" fill="#5a9a5a" stroke="#3a7a3a" stroke-width="0.5"/>
    <text x="794" y="181" font-family="Arial" font-size="7.5" fill="#333">Town (H=4m)</text>
    <rect x="775" y="186" width="14" height="10" fill="#3a7a3a" stroke="#1a5a1a" stroke-width="0.5"/>
    <text x="794" y="195" font-family="Arial" font-size="7.5" fill="#333">Harbor Heights (H=7m)</text>
    <rect x="775" y="200" width="14" height="10" fill="#2a5a30" stroke="#1a4a20" stroke-width="0.5"/>
    <text x="794" y="209" font-family="Arial" font-size="7.5" fill="#333">Redwood Forest (H=8m)</text>
    <rect x="775" y="214" width="14" height="10" fill="#706050" stroke="#504030" stroke-width="0.5"/>
    <text x="794" y="223" font-family="Arial" font-size="7.5" fill="#333">Cliff / Impassable</text>

    <line x1="770" y1="230" x2="978" y2="230" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Paths -->
    <text x="775" y="242" font-family="Arial" font-size="8" fill="#333" font-weight="bold">PATHS</text>
    <line x1="775" y1="250" x2="800" y2="250" stroke="#c4a870" stroke-width="4"/>
    <text x="805" y="253" font-family="Arial" font-size="7.5" fill="#333">Main Road</text>
    <line x1="775" y1="263" x2="800" y2="263" stroke="#8a7050" stroke-width="3"/>
    <text x="805" y="266" font-family="Arial" font-size="7.5" fill="#333">Boardwalk</text>
    <line x1="775" y1="276" x2="800" y2="276" stroke="#4a6a40" stroke-width="2" stroke-dasharray="6,4"/>
    <text x="805" y="279" font-family="Arial" font-size="7.5" fill="#333">Trail (to portal)</text>
    <line x1="775" y1="289" x2="800" y2="289" stroke="#6a8a50" stroke-width="2.5" stroke-dasharray="8,4"/>
    <text x="805" y="292" font-family="Arial" font-size="7.5" fill="#333">Overgrown Path</text>

    <line x1="770" y1="300" x2="978" y2="300" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Markers -->
    <text x="775" y="312" font-family="Arial" font-size="8" fill="#333" font-weight="bold">MARKERS</text>
    <rect x="775" y="318" width="14" height="10" fill="#b8a870" opacity="0.6" stroke="#8a7050" stroke-width="1"/>
    <text x="794" y="327" font-family="Arial" font-size="7.5" fill="#333">Ramp / Slope</text>
    <ellipse cx="782" cy="340" rx="6" ry="8" fill="#8a40c8" opacity="0.7" stroke="#6a20a8" stroke-width="1"/>
    <text x="794" y="343" font-family="Arial" font-size="7.5" fill="#333">Excursion Portal</text>
    <circle cx="782" cy="355" r="4" fill="#f8e848" stroke="#d8c828" stroke-width="1"/>
    <text x="794" y="358" font-family="Arial" font-size="7.5" fill="#333">Spawn Point</text>
    <line x1="775" y1="368" x2="800" y2="368" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.5"/>
    <text x="805" y="371" font-family="Arial" font-size="7.5" fill="#333">Sight Line</text>
    <line x1="775" y1="381" x2="800" y2="381" stroke="#444" stroke-width="0.5" opacity="0.4"/>
    <text x="805" y="384" font-family="Arial" font-size="7.5" fill="#333">Contour (1m)</text>

    <line x1="770" y1="392" x2="978" y2="392" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Fishing -->
    <text x="775" y="404" font-family="Arial" font-size="8" fill="#333" font-weight="bold">FISHING</text>
    <use href="#fish-icon" x="775" y="408" width="14" height="9"/>
    <text x="794" y="417" font-family="Arial" font-size="7.5" fill="#333">Fishing Spot (5m radius)</text>
    <circle cx="782" cy="428" r="5" fill="#3a8aaa" opacity="0.15" stroke="#2a6a8a" stroke-width="0.8" stroke-dasharray="2,1"/>
    <text x="794" y="431" font-family="Arial" font-size="7.5" fill="#333">Detection Radius</text>

    <line x1="770" y1="440" x2="978" y2="440" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Trainers -->
    <text x="775" y="452" font-family="Arial" font-size="8" fill="#333" font-weight="bold">TRAINERS</text>
    <circle cx="782" cy="461" r="5" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="1"/>
    <text x="794" y="464" font-family="Arial" font-size="7.5" fill="#333">Easy (Lv 1-5)</text>
    <circle cx="782" cy="475" r="5" fill="#d8b848" stroke="#b89828" stroke-width="1"/>
    <text x="794" y="478" font-family="Arial" font-size="7.5" fill="#333">Medium (Lv 6-12)</text>
    <circle cx="782" cy="489" r="5" fill="#d87848" stroke="#b85828" stroke-width="1"/>
    <text x="794" y="492" font-family="Arial" font-size="7.5" fill="#333">Hard (Lv 13+)</text>
    <circle cx="782" cy="503" r="5" fill="#d84848" stroke="#b82828" stroke-width="1"/>
    <text x="794" y="506" font-family="Arial" font-size="7.5" fill="#333">Gatekeeper ★</text>
    <circle cx="782" cy="517" r="5" fill="#4a8ad8" stroke="#2a6ab8" stroke-width="1"/>
    <text x="794" y="520" font-family="Arial" font-size="7.5" fill="#333">Quest NPC</text>

    <line x1="770" y1="528" x2="978" y2="528" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Boundaries -->
    <text x="775" y="540" font-family="Arial" font-size="8" fill="#333" font-weight="bold">BOUNDARIES</text>
  </g>

  <!-- ============ LAYER 19: COORDINATE REFERENCE TABLE ============ -->
  <g id="coord-table">
    <rect x="15" y="15" width="280" height="340" fill="#f5f0e5" stroke="#8a7a60" stroke-width="1.5" rx="4" opacity="0.93"/>
    <text x="155" y="34" font-family="Arial" font-size="11" fill="#3a3020" text-anchor="middle" font-weight="bold">GODOT COORDINATE REFERENCE</text>
    <text x="155" y="44" font-family="monospace" font-size="6" fill="#666" text-anchor="middle">SVG→Godot: X=(svgX-500)×0.25, Z=(svgY-500)×0.25</text>
    <line x1="25" y1="48" x2="285" y2="48" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Table header -->
    <text x="30" y="60" font-family="monospace" font-size="7" fill="#555" font-weight="bold">Location</text>
    <text x="170" y="60" font-family="monospace" font-size="7" fill="#555" font-weight="bold">SVG(x,y)</text>
    <text x="230" y="60" font-family="monospace" font-size="7" fill="#555" font-weight="bold">Godot(X,Y,Z)</text>
    <line x1="25" y1="64" x2="285" y2="64" stroke="#ccc" stroke-width="0.5"/>

    <!-- Key locations -->
    <text x="30" y="74" font-family="monospace" font-size="6.5" fill="#333">Spawn Point</text>
    <text x="170" y="74" font-family="monospace" font-size="6.5" fill="#333">370,555</text>
    <text x="230" y="74" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-32.5, 4, 13.75)</text>

    <text x="30" y="85" font-family="monospace" font-size="6.5" fill="#333">Town Hall</text>
    <text x="170" y="85" font-family="monospace" font-size="6.5" fill="#333">370,500</text>
    <text x="230" y="85" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-32.5, 4, 0)</text>

    <text x="30" y="96" font-family="monospace" font-size="6.5" fill="#333">Fountain</text>
    <text x="170" y="96" font-family="monospace" font-size="6.5" fill="#333">380,530</text>
    <text x="230" y="96" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-30, 4, 7.5)</text>

    <text x="30" y="107" font-family="monospace" font-size="6.5" fill="#333">Hubert's Bakery</text>
    <text x="170" y="107" font-family="monospace" font-size="6.5" fill="#333">419,516</text>
    <text x="230" y="107" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-20.25, 4, 4)</text>

    <text x="30" y="118" font-family="monospace" font-size="6.5" fill="#333">Pepper's Spice</text>
    <text x="170" y="118" font-family="monospace" font-size="6.5" fill="#333">339,516</text>
    <text x="230" y="118" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-40.25, 4, 4)</text>

    <text x="30" y="129" font-family="monospace" font-size="6.5" fill="#333">General Store</text>
    <text x="170" y="129" font-family="monospace" font-size="6.5" fill="#333">358,475</text>
    <text x="230" y="129" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-35.5, 4, -6.25)</text>

    <text x="30" y="140" font-family="monospace" font-size="6.5" fill="#333">Cracked Pot</text>
    <text x="170" y="140" font-family="monospace" font-size="6.5" fill="#333">407,478</text>
    <text x="230" y="140" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-23.25, 4, -5.5)</text>

    <text x="30" y="151" font-family="monospace" font-size="6.5" fill="#333">Tide's End Inn</text>
    <text x="170" y="151" font-family="monospace" font-size="6.5" fill="#333">216,411</text>
    <text x="230" y="151" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-71, 2, -22.25)</text>

    <text x="30" y="162" font-family="monospace" font-size="6.5" fill="#333">Fishing Dock</text>
    <text x="170" y="162" font-family="monospace" font-size="6.5" fill="#333">313,370</text>
    <text x="230" y="162" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-46.75, 2, -32.5)</text>

    <text x="30" y="173" font-family="monospace" font-size="6.5" fill="#333">Warehouse</text>
    <text x="170" y="173" font-family="monospace" font-size="6.5" fill="#333">371,399</text>
    <text x="230" y="173" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-32.25, 2, -25.25)</text>

    <text x="30" y="184" font-family="monospace" font-size="6.5" fill="#333">Lighthouse</text>
    <text x="170" y="184" font-family="monospace" font-size="6.5" fill="#333">65,318</text>
    <text x="230" y="184" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-108.75, 3, -45.5)</text>

    <text x="30" y="195" font-family="monospace" font-size="6.5" fill="#333">Salty Ladle</text>
    <text x="170" y="195" font-family="monospace" font-size="6.5" fill="#333">650,735</text>
    <text x="230" y="195" font-family="monospace" font-size="6.5" fill="#2a6a2a">(37.5, 7, 58.75)</text>

    <text x="30" y="206" font-family="monospace" font-size="6.5" fill="#333">Cordelia's Cottage</text>
    <text x="170" y="206" font-family="monospace" font-size="6.5" fill="#333">601,709</text>
    <text x="230" y="206" font-family="monospace" font-size="6.5" fill="#2a6a2a">(25.25, 7, 52.25)</text>

    <text x="30" y="217" font-family="monospace" font-size="6.5" fill="#333">Murphy's Garden</text>
    <text x="170" y="217" font-family="monospace" font-size="6.5" fill="#333">568,670</text>
    <text x="230" y="217" font-family="monospace" font-size="6.5" fill="#2a6a2a">(17, 7, 42.5)</text>

    <text x="30" y="228" font-family="monospace" font-size="6.5" fill="#333">Overlook Park</text>
    <text x="170" y="228" font-family="monospace" font-size="6.5" fill="#333">680,680</text>
    <text x="230" y="228" font-family="monospace" font-size="6.5" fill="#2a6a2a">(45, 7, 45)</text>

    <text x="30" y="239" font-family="monospace" font-size="6.5" fill="#333">Farm Zone Center</text>
    <text x="170" y="239" font-family="monospace" font-size="6.5" fill="#333">450,565</text>
    <text x="230" y="239" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-12.5, 3, 16.25)</text>

    <text x="30" y="250" font-family="monospace" font-size="6.5" fill="#333">Bay Island</text>
    <text x="170" y="250" font-family="monospace" font-size="6.5" fill="#333">400,265</text>
    <text x="230" y="250" font-family="monospace" font-size="6.5" fill="#2a6a2a">(-25, 2, -58.75)</text>

    <line x1="25" y1="254" x2="285" y2="254" stroke="#ccc" stroke-width="0.5"/>
    <text x="30" y="266" font-family="monospace" font-size="7" fill="#555" font-weight="bold">Excursion Portals</text>
    <line x1="25" y1="270" x2="285" y2="270" stroke="#ccc" stroke-width="0.5"/>

    <text x="30" y="280" font-family="monospace" font-size="6.5" fill="#6a20a8">The Wilds</text>
    <text x="170" y="280" font-family="monospace" font-size="6.5" fill="#333">455,378</text>
    <text x="230" y="280" font-family="monospace" font-size="6.5" fill="#6a20a8">(-11.25, 2, -30.5)</text>

    <text x="30" y="291" font-family="monospace" font-size="6.5" fill="#2088a8">Coastal Wreckage</text>
    <text x="170" y="291" font-family="monospace" font-size="6.5" fill="#333">75,350</text>
    <text x="230" y="291" font-family="monospace" font-size="6.5" fill="#2088a8">(-106.25, 1, -37.5)</text>

    <text x="30" y="302" font-family="monospace" font-size="6.5" fill="#4a1068">Fungal Hollow</text>
    <text x="170" y="302" font-family="monospace" font-size="6.5" fill="#333">440,435</text>
    <text x="230" y="302" font-family="monospace" font-size="6.5" fill="#4a1068">(-15, 4, -16.25)</text>

    <text x="30" y="313" font-family="monospace" font-size="6.5" fill="#b85010">Volcanic Crest</text>
    <text x="170" y="313" font-family="monospace" font-size="6.5" fill="#333">710,615</text>
    <text x="230" y="313" font-family="monospace" font-size="6.5" fill="#b85010">(52.5, 8, 28.75)</text>

    <text x="30" y="324" font-family="monospace" font-size="6.5" fill="#3088b8">Frozen Pantry</text>
    <text x="170" y="324" font-family="monospace" font-size="6.5" fill="#333">355,900</text>
    <text x="230" y="324" font-family="monospace" font-size="6.5" fill="#3088b8">(-36.25, 5, 100)</text>

    <line x1="25" y1="328" x2="285" y2="328" stroke="#ccc" stroke-width="0.5"/>
    <text x="30" y="340" font-family="monospace" font-size="7" fill="#555" font-weight="bold">Fishing Spots (F1-F8)</text>
    <text x="30" y="350" font-family="monospace" font-size="6" fill="#666">5m detection radius each. See fish icons on map.</text>
  </g>
</svg>