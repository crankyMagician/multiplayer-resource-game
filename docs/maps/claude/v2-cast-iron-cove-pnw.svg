<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" width="1000" height="1000">
  <defs>
    <pattern id="water-bay" width="24" height="24" patternUnits="userSpaceOnUse">
      <rect width="24" height="24" fill="#2e6e8a"/>
      <path d="M0 12 Q6 9,12 12 Q18 15,24 12" stroke="#3a7e9a" stroke-width="0.7" fill="none"/>
    </pattern>
    <pattern id="water-ocean" width="28" height="28" patternUnits="userSpaceOnUse">
      <rect width="28" height="28" fill="#1e5a76"/>
      <path d="M0 14 Q7 10,14 14 Q21 18,28 14" stroke="#2a6a86" stroke-width="0.8" fill="none"/>
      <path d="M0 7 Q7 3,14 7 Q21 11,28 7" stroke="#2a6a86" stroke-width="0.5" fill="none" opacity="0.5"/>
    </pattern>
    <pattern id="tidal-flat" width="12" height="12" patternUnits="userSpaceOnUse">
      <rect width="12" height="12" fill="#7a9a88"/>
      <circle cx="3" cy="3" r="0.8" fill="#6a8a78"/>
      <circle cx="9" cy="9" r="0.8" fill="#6a8a78"/>
    </pattern>
    <pattern id="redwood-dense" width="10" height="10" patternUnits="userSpaceOnUse">
      <rect width="10" height="10" fill="#2a5a30"/>
      <circle cx="5" cy="5" r="3" fill="#1e4e24" opacity="0.5"/>
    </pattern>
  </defs>

  <!-- ============ TERRAIN ============ -->
  <g id="terrain">
    <!-- Open ocean (H=0m) - northwest -->
    <polygon points="0,0 460,0 440,60 400,100 360,80 310,110 270,90 220,120 180,100 140,130 100,115 60,140 30,125 0,150" fill="url(#water-ocean)"/>
    <!-- Open ocean west coast -->
    <polygon points="0,150 30,125 60,140 100,115 140,130 180,100 220,120 200,170 160,200 120,230 80,260 40,280 0,300" fill="url(#water-ocean)"/>

    <!-- Humboldt-style bay - protected harbor (H=0m) -->
    <path d="M220,120 270,90 310,110 360,80 400,100 440,60 460,0 600,0 600,50 580,80 560,120 550,160 555,200 565,240 560,280 540,310 510,340 480,360 450,370 420,375 390,370 360,360 340,345 320,330 300,320 280,315 260,320 240,330 220,345 200,360 180,345 160,320 145,290 140,260 150,230 160,200 200,170" fill="url(#water-bay)"/>

    <!-- Tidal mudflats - inner bay shallows (H=0m) -->
    <path d="M300,320 320,310 340,305 360,310 380,320 400,330 420,340 440,345 420,355 390,360 360,350 340,340 320,330 300,325Z" fill="url(#tidal-flat)" opacity="0.8"/>
    <path d="M200,300 220,290 250,295 270,305 260,315 240,320 220,330 200,340 185,325 180,310 190,300Z" fill="url(#tidal-flat)" opacity="0.7"/>

    <!-- Sand spit / breakwater peninsula (H=1m) - Samoa-style -->
    <polygon points="460,0 480,0 500,30 510,70 515,110 510,150 500,190 495,230 500,270 510,300 520,330 510,340 500,325 490,290 485,250 480,210 475,170 470,130 465,90 455,50 445,20 440,0" fill="#c8b890" stroke="#a89870" stroke-width="1"/>

    <!-- Rocky headland - northwest (H=3m, impassable cliff edges) -->
    <polygon points="0,300 40,280 80,260 120,230 150,230 140,260 145,290 130,310 100,330 60,340 30,345 0,350" fill="#5a7a52" stroke="#4a6a42" stroke-width="1"/>
    <!-- Cliff face on headland -->
    <polygon points="0,300 40,280 80,260 120,230 115,240 75,268 35,290 0,310" fill="#706050" opacity="0.6"/>

    <!-- Beach cove - small pocket beach (H=1m) -->
    <polygon points="0,350 30,345 60,340 100,330 120,340 140,355 140,370 120,380 80,385 40,380 0,375" fill="#d4c5a0"/>

    <!-- Wharf Walk district - waterfront (H=2m) -->
    <polygon points="140,355 160,320 180,345 200,360 220,345 240,330 260,320 280,315 300,320 300,340 280,370 260,400 240,420 220,435 200,440 180,430 160,415 140,395 135,375 140,370" fill="#6a9a6a"/>

    <!-- Dockyard / fishing pier area (H=2m) -->
    <polygon points="300,340 340,345 360,360 390,370 420,375 450,370 460,380 450,400 420,410 390,415 360,410 330,400 310,385 300,370" fill="#5a8a5a"/>

    <!-- Main town ground - Town Square + Market Row (H=4m) -->
    <path d="M140,395 160,415 180,430 200,440 220,435 240,420 260,400 280,370 300,370 310,385 330,400 360,410 390,415 420,410 450,400 460,420 470,460 480,500 490,540 500,580 500,620 490,660 470,690 440,710 400,720 360,725 320,720 280,710 240,700 200,690 170,670 150,640 140,600 135,560 130,520 130,480 132,440 135,420Z" fill="#5a9a5a"/>

    <!-- Harbor Heights - upper town on hillside (H=7m) -->
    <path d="M500,580 530,560 570,550 610,555 650,570 680,590 700,620 710,660 700,700 680,730 650,750 610,760 570,755 530,740 500,720 490,690 485,660 490,630Z" fill="#3a7a3a"/>

    <!-- Redwood forest - dense canopy (H=8m) -->
    <path d="M570,550 610,530 660,520 720,530 780,550 830,580 870,620 890,670 890,720 870,770 830,810 780,840 720,850 660,840 610,810 580,770 560,730 555,690 560,650 570,610 575,580Z" fill="url(#redwood-dense)"/>
    <!-- More forest stretching south -->
    <path d="M200,690 170,720 160,760 165,810 180,850 210,880 250,900 300,910 350,915 400,910 450,900 490,880 520,850 540,810 550,770 555,730 530,740 500,720 490,690 470,690 440,710 400,720 360,725 320,720 280,710 240,700Z" fill="url(#redwood-dense)"/>

    <!-- Southern hills / Frozen Pantry approach (H=5m) -->
    <path d="M0,750 0,1000 1000,1000 1000,850 950,830 900,840 850,820 800,835 750,820 700,840 680,830 660,840 610,810 580,770 560,730 555,690 560,650 570,610 610,560 660,520 720,530 780,550 830,580 870,620 890,670 890,720 870,770 830,810 800,835 780,840 730,850 700,855 660,845 620,820 590,800 550,810 520,850 490,880 450,900 400,910 350,915 300,910 250,900 210,880 180,850 165,810 160,760 155,740 130,750 100,760 60,770 0,780" fill="#3d7d3d"/>

    <!-- Farm zone - cleared bottomland (H=3m) -->
    <polygon points="420,500 470,480 500,500 510,540 500,580 490,600 460,610 430,600 410,570 400,540 405,510" fill="#8ab85a" stroke="#6a9a3a" stroke-width="1"/>

    <!-- Rocky outcrop east (H=6m, impassable) -->
    <polygon points="600,0 700,0 750,30 780,80 790,140 780,200 750,250 710,280 670,290 640,280 620,260 610,230 600,190 590,150 585,100 590,50" fill="#6a6858"/>

    <!-- Cliff band between ocean and headland -->
    <polygon points="600,50 620,60 640,80 650,110 655,150 650,190 640,230 620,260 610,240 615,200 620,160 618,120 610,80 600,55" fill="#807060" opacity="0.5"/>

    <!-- Small island in bay (H=2m) -->
    <polygon points="380,250 400,240 420,250 425,270 410,285 390,280 375,265" fill="#5a8a5a" stroke="#4a7a4a" stroke-width="1"/>
  </g>

  <!-- ============ PATHS ============ -->
  <g id="paths">
    <!-- Coastal boardwalk - Wharf Walk -->
    <polyline points="140,370 160,380 180,395 200,410 220,420 250,415 280,400 300,380 320,370 340,375 360,385 380,395 400,405 420,408" stroke="#8a7050" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Main street - through town square -->
    <polyline points="280,400 290,430 310,460 340,490 370,510 400,520 430,520 460,510 480,500" stroke="#c4a870" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Market Row street -->
    <polyline points="200,440 220,470 250,500 280,520 310,530 340,535" stroke="#c4a870" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Hillside switchback to Harbor Heights -->
    <polyline points="480,500 500,530 510,560 520,580 530,590 550,600 570,610" stroke="#c4a870" stroke-width="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    <polyline points="570,610 590,630 600,660 590,690 570,710" stroke="#c4a870" stroke-width="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Salty Ladle overgrown path -->
    <polyline points="570,710 590,720 620,730 650,735" stroke="#6a8a50" stroke-width="5" fill="none" stroke-dasharray="8,4" stroke-linecap="round"/>

    <!-- Beach path -->
    <polyline points="40,360 70,365 100,360 130,350" stroke="#d4c090" stroke-width="4" fill="none" stroke-linecap="round"/>

    <!-- Trail north to Fungal Hollow (through forest) -->
    <polyline points="400,520 420,500 430,470 440,440 450,410 455,380" stroke="#4a6a40" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail east to Volcanic Crest -->
    <polyline points="570,610 600,600 640,590 680,595 710,610" stroke="#aa6a40" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail south to Frozen Pantry -->
    <polyline points="400,720 380,760 360,810 350,860 355,900" stroke="#5a8aaa" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Trail west to Coastal Wreckage -->
    <polyline points="140,370 120,365 100,355 80,350" stroke="#5a8aaa" stroke-width="4" fill="none" stroke-dasharray="6,4" stroke-linecap="round"/>

    <!-- Path to farm -->
    <polyline points="430,520 440,530 450,550 455,570 460,590" stroke="#a8a060" stroke-width="5" fill="none" stroke-linecap="round"/>

    <!-- Logging road through redwoods -->
    <polyline points="650,735 680,750 720,770 760,790 800,800" stroke="#5a5040" stroke-width="4" fill="none" stroke-dasharray="10,5" stroke-linecap="round"/>
  </g>

  <!-- ============ ELEVATION (contours) ============ -->
  <g id="elevation">
    <!-- 1m - beach/spit contour -->
    <path d="M0,360 30,355 60,348 100,340 130,348" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 2m - wharf level -->
    <path d="M130,400 160,420 190,435 220,440 260,425 290,405 310,390 340,385 370,395 400,410 430,415 455,408" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 3m -->
    <path d="M130,440 160,450 200,460 240,455 280,440 310,445 340,460 370,470 400,475 430,470 460,460 485,475" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 4m - town level -->
    <path d="M130,490 165,510 200,520 240,515 280,500 320,500 360,510 400,520 440,515 470,505 495,520" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 5m -->
    <path d="M140,570 170,590 210,605 260,600 310,590 360,595 400,610 440,605 475,590 500,600" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 6m -->
    <path d="M150,630 180,650 220,665 270,660 320,650 370,655 420,670 460,665 490,650 510,630 530,610" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 7m - Harbor Heights -->
    <path d="M490,660 510,640 535,620 560,615 590,625 620,645 640,670 650,700 640,730 620,750 590,755 560,745 535,725 515,700 500,680" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 8m - forest edge -->
    <path d="M570,590 600,575 640,565 690,570 740,590 780,615 810,650 820,695 815,740 795,780 760,810 720,830 680,835 640,825 610,800 590,770 575,730 570,690 572,650 575,615" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 5m southern hills -->
    <path d="M0,800 60,790 120,780 180,800 240,790 300,810 360,800 420,815 480,830 520,855 560,830" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
    <!-- 3m headland -->
    <path d="M0,330 30,325 60,320 100,318 120,325" stroke="#444" stroke-width="0.5" fill="none" opacity="0.35"/>
  </g>

  <!-- ============ RAMPS ============ -->
  <g id="ramps">
    <!-- Ramp: Beach to Wharf (1m → 2m) -->
    <polygon points="130,348 142,350 142,370 130,368" fill="#b8a870" opacity="0.6" stroke="#8a7050" stroke-width="1.5"/>

    <!-- Ramp: Wharf to Town Square (2m → 4m) -->
    <polygon points="275,400 295,395 300,420 280,425" fill="#a8b870" opacity="0.6" stroke="#7a8a50" stroke-width="1.5"/>

    <!-- Ramp: Town Square to Harbor Heights (4m → 7m) switchback -->
    <polygon points="495,520 515,515 525,550 505,555" fill="#90a858" opacity="0.6" stroke="#6a7a40" stroke-width="1.5"/>

    <!-- Ramp: Town to Farm (4m → 3m) -->
    <polygon points="435,520 450,515 455,540 440,545" fill="#9aaa70" opacity="0.6" stroke="#7a8a50" stroke-width="1.5"/>

    <!-- Ramp: Harbor Heights to Forest (7m → 8m) -->
    <polygon points="565,600 585,595 590,620 570,625" fill="#508048" opacity="0.6" stroke="#306828" stroke-width="1.5"/>

    <!-- Ramp: Southern descent (7m → 5m) -->
    <polygon points="400,715 420,710 425,740 405,745" fill="#7a9a8a" opacity="0.6" stroke="#5a7a6a" stroke-width="1.5"/>
  </g>

  <!-- ============ LANDMARKS ============ -->
  <g id="landmarks">
    <!-- === TOWN SQUARE DISTRICT === -->

    <!-- Town Hall - Victorian style (large rect + gable) -->
    <rect x="350" y="488" width="40" height="35" fill="#c89858" stroke="#8a6830" stroke-width="2" rx="2"/>
    <polygon points="350,488 370,472 390,488" fill="#a87838" stroke="#8a6830" stroke-width="1.5"/>

    <!-- Harbor Square Fountain -->
    <circle cx="380" cy="530" r="14" fill="#5aaaca" stroke="#3a8aaa" stroke-width="2"/>
    <circle cx="380" cy="530" r="6" fill="#7ac0da" stroke="#3a8aaa" stroke-width="1"/>

    <!-- Hubert's Bakery -->
    <rect x="405" y="505" width="28" height="22" fill="#e8c878" stroke="#aa9050" stroke-width="2" rx="2"/>

    <!-- Pepper's Spice Emporium -->
    <rect x="325" y="505" width="28" height="22" fill="#d86848" stroke="#aa4830" stroke-width="2" rx="2"/>

    <!-- General Store -->
    <rect x="345" y="465" width="25" height="20" fill="#b8a870" stroke="#8a7850" stroke-width="2" rx="2"/>

    <!-- The Cracked Pot -->
    <rect x="395" y="468" width="24" height="20" fill="#c8a888" stroke="#9a7868" stroke-width="2" rx="2"/>

    <!-- === MARKET ROW === -->
    <rect x="248" y="495" width="20" height="16" fill="#c8a8d8" stroke="#9878a8" stroke-width="1.5" rx="2"/>
    <rect x="272" y="505" width="18" height="14" fill="#a8c8e8" stroke="#7898b8" stroke-width="1.5" rx="2"/>
    <rect x="295" y="518" width="20" height="16" fill="#88c888" stroke="#58a858" stroke-width="1.5" rx="2"/>
    <rect x="225" y="510" width="20" height="16" fill="#e8b8b8" stroke="#c89898" stroke-width="1.5" rx="2"/>

    <!-- === WHARF WALK === -->

    <!-- Tide's End Inn - large Victorian waterfront -->
    <rect x="200" y="398" width="32" height="26" fill="#a88868" stroke="#7a5848" stroke-width="2" rx="2"/>
    <polygon points="200,398 216,384 232,398" fill="#907858" stroke="#7a5848" stroke-width="1"/>

    <!-- Haddock's Fishing Dock - pier extending into bay -->
    <rect x="310" y="360" width="6" height="30" fill="#7a6040" stroke="#5a4030" stroke-width="1.5"/>
    <rect x="305" y="355" width="16" height="8" fill="#8a7050" stroke="#5a4030" stroke-width="1.5"/>

    <!-- Old Warehouse -->
    <rect x="355" y="388" width="32" height="22" fill="#787068" stroke="#585048" stroke-width="2" rx="1"/>

    <!-- Lighthouse on headland -->
    <circle cx="65" cy="318" r="11" fill="#e8d868" stroke="#aa9a40" stroke-width="2"/>
    <circle cx="65" cy="318" r="5" fill="#f8f0a0" stroke="#aa9a40" stroke-width="1"/>
    <rect x="62" y="310" width="6" height="18" fill="#d8c858" stroke="#aa9a40" stroke-width="1" rx="1"/>

    <!-- === HARBOR HEIGHTS === -->

    <!-- The Salty Ladle (Restaurant) - prominent -->
    <polygon points="630,720 660,710 675,730 665,750 635,745" fill="#c86848" stroke="#8a3020" stroke-width="2"/>
    <rect x="638" y="722" width="22" height="16" fill="#d87858" stroke="#8a3020" stroke-width="1"/>

    <!-- Cordelia's Cottage -->
    <rect x="590" y="700" width="22" height="18" fill="#a8c8a8" stroke="#6a8a6a" stroke-width="2" rx="2"/>
    <polygon points="590,700 601,688 612,700" fill="#8aaa8a" stroke="#6a8a6a" stroke-width="1"/>

    <!-- Murphy's Hillside Garden (locked) -->
    <polygon points="530" fill="none"/>
    <rect x="555" y="660" width="26" height="20" fill="#4aaa4a" stroke="#2a8a2a" stroke-width="2" rx="2" stroke-dasharray="4,2"/>

    <!-- Overlook Park - cliff-edge viewpoint -->
    <circle cx="680" cy="680" r="16" fill="#5aba5a" stroke="#3a8a3a" stroke-width="2"/>
    <circle cx="674" cy="674" r="3.5" fill="#4aaa4a"/>
    <circle cx="686" cy="686" r="3.5" fill="#4aaa4a"/>
    <circle cx="680" cy="676" r="3.5" fill="#4aaa4a"/>

    <!-- === FARM ZONE === -->
    <rect x="420" y="555" width="18" height="13" fill="#aad070" stroke="#7aa040" stroke-width="1"/>
    <rect x="442" y="555" width="18" height="13" fill="#aad070" stroke="#7aa040" stroke-width="1"/>
    <rect x="420" y="572" width="18" height="13" fill="#c8b870" stroke="#9a8a40" stroke-width="1"/>
    <rect x="442" y="572" width="18" height="13" fill="#c8b870" stroke="#9a8a40" stroke-width="1"/>

    <!-- Spawn point -->
    <circle cx="370" cy="555" r="6" fill="#f8e848" stroke="#d8c828" stroke-width="2"/>
    <circle cx="370" cy="555" r="2.5" fill="#fff" stroke="#d8c828" stroke-width="1"/>

    <!-- Bay island - tiny landmark -->
    <rect x="390" y="256" width="16" height="12" fill="#6a8a5a" stroke="#4a6a3a" stroke-width="1" rx="1"/>

    <!-- === EXCURSION PORTALS === -->

    <!-- The Wilds portal - north bay shore, purple -->
    <ellipse cx="455" cy="378" rx="13" ry="17" fill="#8a40c8" opacity="0.7" stroke="#6a20a8" stroke-width="2"/>
    <ellipse cx="455" cy="378" rx="7" ry="11" fill="#aa60e8" opacity="0.6"/>

    <!-- Coastal Wreckage portal - west headland, teal -->
    <ellipse cx="75" cy="350" rx="13" ry="17" fill="#40a8c8" opacity="0.7" stroke="#2088a8" stroke-width="2"/>
    <ellipse cx="75" cy="350" rx="7" ry="11" fill="#60c8e8" opacity="0.6"/>

    <!-- Fungal Hollow portal - deep in dockyard north, dim purple -->
    <ellipse cx="440" cy="435" rx="11" ry="14" fill="#6a3088" opacity="0.7" stroke="#4a1068" stroke-width="2"/>
    <ellipse cx="440" cy="435" rx="6" ry="8" fill="#8a50a8" opacity="0.6"/>

    <!-- Volcanic Crest portal - east past forest, orange -->
    <ellipse cx="710" cy="615" rx="13" ry="17" fill="#d87030" opacity="0.7" stroke="#b85010" stroke-width="2"/>
    <ellipse cx="710" cy="615" rx="7" ry="11" fill="#f89050" opacity="0.6"/>

    <!-- Frozen Pantry portal - south through forest, icy blue -->
    <ellipse cx="355" cy="900" rx="13" ry="17" fill="#60b8e8" opacity="0.7" stroke="#4098c8" stroke-width="2"/>
    <ellipse cx="355" cy="900" rx="7" ry="11" fill="#80d0f8" opacity="0.6"/>

    <!-- Shipwreck on spit -->
    <polygon points="488,180 510,175 515,185 505,195 490,192" fill="#6a5a48" stroke="#4a3a28" stroke-width="1.5" opacity="0.8"/>
    <line x1="500" y1="175" x2="498" y2="160" stroke="#5a4a38" stroke-width="1.5"/>

    <!-- Driftwood on beach -->
    <line x1="50" y1="365" x2="70" y2="370" stroke="#8a7a58" stroke-width="3" stroke-linecap="round"/>
    <line x1="90" y1="375" x2="105" y2="368" stroke="#8a7a58" stroke-width="2.5" stroke-linecap="round"/>

    <!-- Redwood grove markers (large trees) -->
    <circle cx="660" cy="600" r="8" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="700" cy="650" r="9" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="740" cy="700" r="8" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="780" cy="660" r="10" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="810" cy="720" r="9" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>
    <circle cx="640" cy="660" r="7" fill="#1e4e24" stroke="#0e3e14" stroke-width="1.5"/>

    <!-- Fog bank indicator (atmospheric) -->
    <ellipse cx="300" cy="200" rx="80" ry="25" fill="#c8d8e8" opacity="0.25"/>
    <ellipse cx="250" cy="180" rx="50" ry="15" fill="#c8d8e8" opacity="0.2"/>

    <!-- === SIGHT LINES === -->
    <!-- From Overlook Park -->
    <line x1="680" y1="680" x2="380" y2="530" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.45"/>
    <line x1="680" y1="680" x2="65" y2="318" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.45"/>
    <line x1="680" y1="680" x2="500" y2="190" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.35"/>

    <!-- From Lighthouse -->
    <line x1="65" y1="318" x2="310" y2="365" stroke="#e8d040" stroke-width="1" stroke-dasharray="5,4" opacity="0.45"/>
    <line x1="65" y1="318" x2="488" y2="185" stroke="#e8d040" stroke-width="1" stroke-dasharray="5,4" opacity="0.35"/>
    <line x1="65" y1="318" x2="400" y2="260" stroke="#e8d040" stroke-width="1" stroke-dasharray="5,4" opacity="0.4"/>

    <!-- From Harbor Heights Restaurant -->
    <line x1="650" y1="730" x2="380" y2="530" stroke="#c89848" stroke-width="1" stroke-dasharray="5,4" opacity="0.4"/>
    <line x1="650" y1="730" x2="440" y2="565" stroke="#c89848" stroke-width="1" stroke-dasharray="5,4" opacity="0.4"/>
  </g>

  <!-- ============ LABELS ============ -->
  <g id="labels">
    <!-- Title -->
    <text x="500" y="988" font-family="Arial" font-size="22" fill="#1a3a1a" text-anchor="middle" font-weight="bold" letter-spacing="2">CAST IRON COVE</text>
    <text x="500" y="975" font-family="Arial" font-size="11" fill="#4a6a4a" text-anchor="middle" font-style="italic">Pacific Northwest Coastal Town — Level Blockout</text>

    <!-- North arrow -->
    <polygon points="940,40 950,60 940,55 930,60" fill="#333" stroke="#222" stroke-width="1"/>
    <text x="940" y="35" font-family="Arial" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">N</text>

    <!-- Terrain height labels -->
    <text x="350" y="55" font-family="Arial" font-size="12" fill="#b8d0e0" text-anchor="middle" opacity="0.8">H=0m (Pacific Ocean)</text>
    <text x="400" y="200" font-family="Arial" font-size="11" fill="#a0c0d0" text-anchor="middle" opacity="0.7">H=0m (Humboldt-style Bay)</text>
    <text x="490" y="155" font-family="Arial" font-size="9" fill="#8a7a50" text-anchor="middle">H=1m (Sand Spit)</text>
    <text x="80" y="368" font-family="Arial" font-size="9" fill="#6a5a40" text-anchor="middle">H=1m</text>
    <text x="230" y="405" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle" opacity="0.8">H=2m</text>
    <text x="400" y="402" font-family="Arial" font-size="10" fill="#fff" text-anchor="middle" opacity="0.8">H=2m</text>
    <text x="310" y="600" font-family="Arial" font-size="11" fill="#2a5a2a" text-anchor="middle">H=4m</text>
    <text x="600" y="680" font-family="Arial" font-size="11" fill="#1a4a1a" text-anchor="middle">H=7m</text>
    <text x="445" y="595" font-family="Arial" font-size="9" fill="#3a5a1a" text-anchor="middle">H=3m</text>
    <text x="720" y="700" font-family="Arial" font-size="10" fill="#0e3e14" text-anchor="middle">H=8m (Redwoods)</text>
    <text x="50" y="320" font-family="Arial" font-size="9" fill="#3a5a3a" text-anchor="middle">H=3m</text>
    <text x="660" y="200" font-family="Arial" font-size="9" fill="#4a4838" text-anchor="middle">H=6m</text>
    <text x="350" y="870" font-family="Arial" font-size="10" fill="#1a4a1a" text-anchor="middle">H=5m</text>

    <!-- District labels -->
    <text x="250" y="430" font-family="Arial" font-size="13" fill="#fff" text-anchor="middle" font-weight="bold" opacity="0.45" letter-spacing="2">WHARF WALK</text>
    <text x="370" y="558" font-family="Arial" font-size="13" fill="#1a4a1a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="2">TOWN SQUARE</text>
    <text x="260" y="548" font-family="Arial" font-size="11" fill="#1a4a1a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="1">MARKET ROW</text>
    <text x="610" y="740" font-family="Arial" font-size="13" fill="#0a3a0a" text-anchor="middle" font-weight="bold" opacity="0.35" letter-spacing="2">HARBOR HEIGHTS</text>
    <text x="750" y="740" font-family="Arial" font-size="11" fill="#0a3a0a" text-anchor="middle" font-weight="bold" opacity="0.3" letter-spacing="1">REDWOOD FOREST</text>

    <!-- Landmark labels -->
    <text x="370" y="484" font-family="Arial" font-size="10" fill="#5a3a10" text-anchor="middle" font-weight="bold">Town Hall</text>
    <text x="380" y="548" font-family="Arial" font-size="8" fill="#2a6a8a" text-anchor="middle">Fountain</text>
    <text x="435" y="502" font-family="Arial" font-size="8" fill="#7a5a20" text-anchor="start">Hubert's Bakery</text>
    <text x="312" y="502" font-family="Arial" font-size="8" fill="#8a2810" text-anchor="end">Pepper's Spice</text>
    <text x="332" y="462" font-family="Arial" font-size="8" fill="#5a4830" text-anchor="end">General Store</text>
    <text x="422" y="465" font-family="Arial" font-size="8" fill="#6a4838" text-anchor="start">Cracked Pot</text>

    <text x="248" y="492" font-family="Arial" font-size="7" fill="#684878" text-anchor="middle">Threads</text>
    <text x="281" y="518" font-family="Arial" font-size="7" fill="#486888" text-anchor="middle">Book Nook</text>
    <text x="305" y="534" font-family="Arial" font-size="7" fill="#287838" text-anchor="middle">Bloom</text>
    <text x="235" y="530" font-family="Arial" font-size="7" fill="#986868" text-anchor="middle">Dr. Honey</text>

    <text x="650" y="707" font-family="Arial" font-size="10" fill="#6a1808" text-anchor="middle" font-weight="bold">The Salty Ladle</text>
    <text x="601" y="695" font-family="Arial" font-size="8" fill="#3a6a3a" text-anchor="middle">Cordelia's Cottage</text>
    <text x="568" y="654" font-family="Arial" font-size="8" fill="#1a6a1a" text-anchor="middle" stroke-dasharray="3,2">Murphy's Garden</text>
    <text x="680" y="665" font-family="Arial" font-size="9" fill="#2a6a2a" text-anchor="middle" font-weight="bold">Overlook Park</text>

    <text x="216" y="395" font-family="Arial" font-size="8" fill="#4a2818" text-anchor="middle">Tide's End Inn</text>
    <text x="313" y="352" font-family="Arial" font-size="8" fill="#4a3020" text-anchor="middle">Fishing Dock</text>
    <text x="65" y="305" font-family="Arial" font-size="9" fill="#8a7a30" text-anchor="middle" font-weight="bold">Lighthouse</text>
    <text x="371" y="385" font-family="Arial" font-size="8" fill="#484038" text-anchor="middle">Warehouse</text>

    <text x="440" y="553" font-family="Arial" font-size="9" fill="#5a7a20" text-anchor="middle" font-weight="bold">Farm Zone</text>
    <text x="370" y="570" font-family="Arial" font-size="9" fill="#a89828" text-anchor="middle" font-weight="bold">SPAWN</text>

    <text x="500" y="188" font-family="Arial" font-size="8" fill="#4a3a28" text-anchor="middle">Shipwreck</text>
    <text x="398" y="252" font-family="Arial" font-size="8" fill="#3a5a3a" text-anchor="middle">Bay Island</text>

    <!-- Portal labels -->
    <text x="455" y="398" font-family="Arial" font-size="9" fill="#6a20a8" text-anchor="middle" font-weight="bold">The Wilds</text>
    <text x="75" y="340" font-family="Arial" font-size="8" fill="#2088a8" text-anchor="middle" font-weight="bold">Coastal Wreckage</text>
    <text x="440" y="425" font-family="Arial" font-size="8" fill="#4a1068" text-anchor="middle" font-weight="bold">Fungal Hollow</text>
    <text x="710" y="605" font-family="Arial" font-size="8" fill="#b85010" text-anchor="middle" font-weight="bold">Volcanic Crest</text>
    <text x="355" y="920" font-family="Arial" font-size="8" fill="#3088b8" text-anchor="middle" font-weight="bold">Frozen Pantry</text>

    <!-- Viewpoint labels -->
    <text x="695" y="673" font-family="Arial" font-size="7" fill="#a88030" text-anchor="start" font-style="italic">Viewpoint A</text>
    <text x="36" y="312" font-family="Arial" font-size="7" fill="#a89030" text-anchor="end" font-style="italic">Viewpoint B</text>
    <text x="665" y="740" font-family="Arial" font-size="7" fill="#a88030" text-anchor="start" font-style="italic">Viewpoint C</text>

    <!-- Ramp labels -->
    <text x="148" y="348" font-family="Arial" font-size="7" fill="#5a4020" text-anchor="start">Ramp: 1m→2m | L=22m | θ=2.6°</text>
    <text x="300" y="432" font-family="Arial" font-size="7" fill="#4a5020" text-anchor="start">Ramp: 2m→4m | L=30m | θ=3.8°</text>
    <text x="525" y="540" font-family="Arial" font-size="7" fill="#3a4a10" text-anchor="start">Ramp: 4m→7m | L=45m | θ=3.8°</text>
    <text x="410" y="745" font-family="Arial" font-size="7" fill="#3a5a4a" text-anchor="start">Ramp: 7m→5m | L=32m | θ=3.6°</text>
    <text x="452" y="510" font-family="Arial" font-size="7" fill="#5a6a20" text-anchor="start">Ramp: 4m→3m | L=28m | θ=2.0°</text>
    <text x="592" y="612" font-family="Arial" font-size="7" fill="#2a5020" text-anchor="start">Ramp: 7m→8m | L=30m | θ=1.9°</text>

    <!-- Atmospheric notes -->
    <text x="290" y="215" font-family="Arial" font-size="8" fill="#8aa0b0" text-anchor="middle" font-style="italic" opacity="0.6">~ fog bank ~</text>
  </g>

  <!-- ============ LEGEND ============ -->
  <g id="legend">
    <rect x="760" y="15" width="228" height="360" fill="#f5f0e5" stroke="#8a7a60" stroke-width="1.5" rx="4" opacity="0.93"/>
    <text x="874" y="36" font-family="Arial" font-size="12" fill="#3a3020" text-anchor="middle" font-weight="bold">LEGEND</text>
    <line x1="770" y1="42" x2="978" y2="42" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Terrain -->
    <rect x="775" y="50" width="14" height="10" fill="#1e5a76" stroke="#0e4a66" stroke-width="0.5"/>
    <text x="794" y="59" font-family="Arial" font-size="8" fill="#333">Pacific Ocean (H=0m)</text>
    <rect x="775" y="64" width="14" height="10" fill="#2e6e8a" stroke="#1e5e7a" stroke-width="0.5"/>
    <text x="794" y="73" font-family="Arial" font-size="8" fill="#333">Bay / Harbor (H=0m)</text>
    <rect x="775" y="78" width="14" height="10" fill="#7a9a88" stroke="#5a7a68" stroke-width="0.5"/>
    <text x="794" y="87" font-family="Arial" font-size="8" fill="#333">Tidal Mudflats (H=0m)</text>
    <rect x="775" y="92" width="14" height="10" fill="#c8b890" stroke="#a89870" stroke-width="0.5"/>
    <text x="794" y="101" font-family="Arial" font-size="8" fill="#333">Sand Spit / Beach (H=1m)</text>
    <rect x="775" y="106" width="14" height="10" fill="#d4c5a0" stroke="#a89a70" stroke-width="0.5"/>
    <text x="794" y="115" font-family="Arial" font-size="8" fill="#333">Pocket Beach (H=1m)</text>
    <rect x="775" y="120" width="14" height="10" fill="#6a9a6a" stroke="#4a7a4a" stroke-width="0.5"/>
    <text x="794" y="129" font-family="Arial" font-size="8" fill="#333">Wharf / Dockyard (H=2m)</text>
    <rect x="775" y="134" width="14" height="10" fill="#8ab85a" stroke="#6a9a3a" stroke-width="0.5"/>
    <text x="794" y="143" font-family="Arial" font-size="8" fill="#333">Farm Bottomland (H=3m)</text>
    <rect x="775" y="148" width="14" height="10" fill="#5a9a5a" stroke="#3a7a3a" stroke-width="0.5"/>
    <text x="794" y="157" font-family="Arial" font-size="8" fill="#333">Town Ground (H=4m)</text>
    <rect x="775" y="162" width="14" height="10" fill="#3a7a3a" stroke="#1a5a1a" stroke-width="0.5"/>
    <text x="794" y="171" font-family="Arial" font-size="8" fill="#333">Harbor Heights (H=7m)</text>
    <rect x="775" y="176" width="14" height="10" fill="#2a5a30" stroke="#1a4a20" stroke-width="0.5"/>
    <text x="794" y="185" font-family="Arial" font-size="8" fill="#333">Redwood Forest (H=8m)</text>
    <rect x="775" y="190" width="14" height="10" fill="#3d7d3d" stroke="#2d6d2d" stroke-width="0.5"/>
    <text x="794" y="199" font-family="Arial" font-size="8" fill="#333">Southern Hills (H=5m)</text>
    <rect x="775" y="204" width="14" height="10" fill="#706050" stroke="#504030" stroke-width="0.5"/>
    <text x="794" y="213" font-family="Arial" font-size="8" fill="#333">Cliff / Impassable</text>

    <line x1="770" y1="220" x2="978" y2="220" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Paths -->
    <line x1="775" y1="231" x2="800" y2="231" stroke="#c4a870" stroke-width="4"/>
    <text x="805" y="234" font-family="Arial" font-size="8" fill="#333">Main Road</text>
    <line x1="775" y1="244" x2="800" y2="244" stroke="#8a7050" stroke-width="3"/>
    <text x="805" y="247" font-family="Arial" font-size="8" fill="#333">Boardwalk</text>
    <line x1="775" y1="257" x2="800" y2="257" stroke="#4a6a40" stroke-width="2" stroke-dasharray="6,4"/>
    <text x="805" y="260" font-family="Arial" font-size="8" fill="#333">Trail (to portal)</text>
    <line x1="775" y1="270" x2="800" y2="270" stroke="#6a8a50" stroke-width="2.5" stroke-dasharray="8,4"/>
    <text x="805" y="273" font-family="Arial" font-size="8" fill="#333">Overgrown Path</text>
    <line x1="775" y1="283" x2="800" y2="283" stroke="#5a5040" stroke-width="2" stroke-dasharray="10,5"/>
    <text x="805" y="286" font-family="Arial" font-size="8" fill="#333">Logging Road</text>

    <line x1="770" y1="293" x2="978" y2="293" stroke="#8a7a60" stroke-width="0.5"/>

    <!-- Markers -->
    <line x1="775" y1="304" x2="800" y2="304" stroke="#444" stroke-width="0.5" opacity="0.4"/>
    <text x="805" y="307" font-family="Arial" font-size="8" fill="#333">Contour (1m interval)</text>

    <rect x="775" y="312" width="14" height="10" fill="#b8a870" opacity="0.6" stroke="#8a7050" stroke-width="1"/>
    <text x="794" y="321" font-family="Arial" font-size="8" fill="#333">Ramp / Slope</text>

    <ellipse cx="782" cy="335" rx="6" ry="8" fill="#8a40c8" opacity="0.7" stroke="#6a20a8" stroke-width="1"/>
    <text x="794" y="338" font-family="Arial" font-size="8" fill="#333">Excursion Portal</text>

    <circle cx="782" cy="350" r="4" fill="#f8e848" stroke="#d8c828" stroke-width="1"/>
    <text x="794" y="353" font-family="Arial" font-size="8" fill="#333">Spawn Point</text>

    <line x1="775" y1="363" x2="800" y2="363" stroke="#d8a848" stroke-width="1" stroke-dasharray="5,4" opacity="0.5"/>
    <text x="805" y="366" font-family="Arial" font-size="8" fill="#333">Sight Line</text>
  </g>
</svg>