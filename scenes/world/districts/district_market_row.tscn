[gd_scene load_steps=7 format=3]

[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_House_Blue_02.glb" id="1"]
[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_House_02.glb" id="2"]
[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_House_03.glb" id="3"]
[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_House_Church_01.glb" id="4"]
[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_Stall_01.glb" id="5"]
[ext_resource type="PackedScene" path="res://assets/synty/simple_fantasy/models/SF_Bld_Stall_02.glb" id="6"]

; --- Collision shapes ---
[sub_resource type="BoxShape3D" id="shop_shape"]
size = Vector3(5, 5, 4)

[sub_resource type="BoxShape3D" id="small_shop_shape"]
size = Vector3(4.5, 4.5, 3.5)

[sub_resource type="BoxShape3D" id="clinic_shape"]
size = Vector3(5, 5.5, 4)

; === Market Row root (parent offset: -55, 4, 2) ===
[node name="MarketRow" type="Node3D"]

; --- Threads & Needles ---
[node name="ThreadsNeedles" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3)

[node name="Model" parent="ThreadsNeedles" instance=ExtResource("1")]

[node name="Collision" type="CollisionShape3D" parent="ThreadsNeedles"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
shape = SubResource("shop_shape")

[node name="Label" type="Label3D" parent="ThreadsNeedles"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0)
text = "Threads & Needles"
font_size = 28
outline_size = 6
modulate = Color(0.6, 0.7, 0.9, 1)
billboard = 1

; --- The Book Nook ---
[node name="BookNook" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)

[node name="Model" parent="BookNook" instance=ExtResource("2")]

[node name="Collision" type="CollisionShape3D" parent="BookNook"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.25, 0)
shape = SubResource("small_shop_shape")

[node name="Label" type="Label3D" parent="BookNook"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.5, 0)
text = "The Book Nook"
font_size = 28
outline_size = 6
modulate = Color(0.8, 0.7, 0.5, 1)
billboard = 1

; --- Bloom & Grow ---
[node name="BloomGrow" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 6)

[node name="Model" parent="BloomGrow" instance=ExtResource("3")]

[node name="Collision" type="CollisionShape3D" parent="BloomGrow"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
shape = SubResource("shop_shape")

[node name="Label" type="Label3D" parent="BloomGrow"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0)
text = "Bloom & Grow"
font_size = 28
outline_size = 6
modulate = Color(0.5, 0.8, 0.5, 1)
billboard = 1

; --- Dr. Honey's Clinic ---
[node name="DrHoneysClinic" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 1)

[node name="Model" parent="DrHoneysClinic" instance=ExtResource("4")]

[node name="Collision" type="CollisionShape3D" parent="DrHoneysClinic"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.75, 0)
shape = SubResource("clinic_shape")

[node name="Label" type="Label3D" parent="DrHoneysClinic"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7, 0)
text = "Dr. Honey's Clinic"
font_size = 28
outline_size = 6
modulate = Color(0.9, 0.8, 0.5, 1)
billboard = 1

; --- Market Stalls ---
[node name="MarketStalls" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -1)

[node name="Stall1" parent="MarketStalls" instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Stall2" parent="MarketStalls" instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 0)

[node name="Stall3" parent="MarketStalls" instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0)
